
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Unlock the potential of eBPF">
      
      
      
        <link rel="canonical" href="https://eunomia.dev/tutorials/xpu/flamegraph/">
      
      
        <link rel="prev" href="../../features/struct_ops/">
      
      
        <link rel="next" href="../gpu-kernel-driver/">
      
      
        
          <link rel="alternate" href="/en/" hreflang="en">
        
          <link rel="alternate" href="/zh/" hreflang="zh">
        
      
      
      <link rel="icon" href="../../../assets/icon.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>eBPF by Example: Building a GPU Flamegraph Profiler with CUPTI - eunomia</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-1YVMXGL0MY"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-1YVMXGL0MY",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-1YVMXGL0MY",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
  
<meta property="og:type" content="website" />
<meta property="og:title" content="eBPF by Example: Building a GPU Flamegraph Profiler with CUPTI - eunomia" />
<meta property="og:description" content="Unlock the potential of eBPF" />
<meta property="og:image" content="https://eunomia.dev/assets/images/social/tutorials/xpu/flamegraph/index.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:url" content="https://eunomia.dev/tutorials/xpu/flamegraph/" />
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:title" content="eBPF by Example: Building a GPU Flamegraph Profiler with CUPTI - eunomia" />
<meta property="twitter:description" content="Unlock the potential of eBPF" />
<meta property="twitter:image" content="https://eunomia.dev/assets/images/social/tutorials/xpu/flamegraph/index.png" />
</head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ebpf-by-example-building-a-gpu-flamegraph-profiler-with-cupti" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="eunomia" class="md-header__button md-logo" aria-label="eunomia" data-md-component="logo">
      
  <img src="../../../assets/icon.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            eunomia
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              eBPF by Example: Building a GPU Flamegraph Profiler with CUPTI
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Select language">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="/en/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/zh/" hreflang="zh" class="md-select__link">
              Chinese
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/eunomia-bpf/eunomia.dev" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../blog" class="md-tabs__link">
        
  
  
    
  
  Blog

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../bpftime/" class="md-tabs__link">
          
  
  
  bpftime

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../GPTtrace/" class="md-tabs__link">
          
  
  
  eBPF×AI/LLMs

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../eunomia-bpf/" class="md-tabs__link">
          
  
  
  eunomia-bpf

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../others/" class="md-tabs__link">
          
  
  
  Ecosystem

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="eunomia" class="md-nav__button md-logo" aria-label="eunomia" data-md-component="logo">
      
  <img src="../../../assets/icon.svg" alt="logo">

    </a>
    eunomia
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/eunomia-bpf/eunomia.dev" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Home
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Eunomia - Unlock the potential of eBPF
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Tutorials
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tutorials
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example: Learning CO-RE eBPF Step by Step
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../0-introduce/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 0: Introduction to Core Concepts and Tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1-helloworld/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 1: Hello World, Framework and Development
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2-kprobe-unlink/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 2: Monitoring unlink System Calls with kprobe
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3-fentry-unlink/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 3: Monitoring unlink System Calls with fentry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../4-opensnoop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 4: Capturing Opening Files and Filter with Global Variables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../5-uprobe-bashreadline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 5: Capturing readline Function Calls with Uprobe
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../6-sigsnoop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 6: Capturing Signal Sending and Store State with Hash Maps
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../7-execsnoop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 7: Capturing Process Execution, Output with perf event array
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../8-exitsnoop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 8: Monitoring Process Exit Events, Output with Ring Buffer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../9-runqlat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 9: Capturing Scheduling Latency and Recording as Histogram
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../10-hardirqs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 10: Capturing Interrupts with hardirqs or softirqs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../11-bootstrap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 11: Develop User-Space Programs with libbpf and Trace exec() and exit()
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../12-profile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 12: Using eBPF Program Profile for Performance Analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../13-tcpconnlat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 13: Statistics of TCP Connection Delay with libbpf
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../14-tcpstates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 14: Recording TCP Connection Status and TCP RTT
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../15-javagc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 15: Capturing User-Space Java GC Duration Using USDT
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../16-memleak/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 16: Monitoring Memory Leaks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../17-biopattern/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 17: Count Random/Sequential Disk I/O
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../18-further-reading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    More Reference Materials： papers, projects
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../19-lsm-connect/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 19: Security Detection and Defense using LSM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../20-tc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 20: tc Traffic Control
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../21-xdp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 21: Programmable Packet Processing with XDP
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../22-android/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example: Using eBPF Programs on Android
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../23-http/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    L7 Tracing with eBPF: HTTP and Beyond via Socket Filters and Syscall Tracepoints
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../24-hide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Practical Tutorial: Hiding Process or File Information
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../25-signal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Using bpf_send_signal to Terminate Malicious Processes in eBPF
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../26-sudo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial: Privilege Escalation via File Content Manipulation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../27-replace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial: Transparent Text Replacement in File Reads
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../28-detach/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Running eBPF After Application Exits: The Lifecycle of eBPF Programs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../29-sockops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Development Practices: Accelerating Network Request Forwarding with Sockops
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../30-sslsniff/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Practical Tutorial: Capturing SSL/TLS Plain Text Data Using uprobe
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../31-goroutine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Practical Tutorial: Using eBPF to Trace Go Routine States
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../32-wallclock-profiler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example 32: Wall Clock Profiling with Combined On-CPU and Off-CPU Analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../33-funclatency/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Measuring Function Latency with eBPF
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../34-syscall/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Development Practice: Modifying System Call Arguments with eBPF
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../35-user-ringbuf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Development Practices: Asynchronously Send to Kernel with User Ring Buffer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../36-userspace-ebpf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Userspace eBPF Runtimes: Overview and Applications
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../37-uprobe-rust/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Practice: Tracing User Space Rust Applications with Uprobe
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../38-btf-uprobe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Expanding eBPF Compile Once, Run Everywhere(CO-RE) to Userspace Compatibility
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../39-nginx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Using eBPF to Trace Nginx Requests
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../40-mysql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Using eBPF to Trace MySQL Queries
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../41-xdp-tcpdump/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example: Capturing TCP Information with XDP
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../42-xdp-loadbalancer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Developer Tutorial: XDP Load Balancer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../43-kfuncs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Extending eBPF Beyond Its Limits: Custom kfuncs in Kernel Modules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../44-scx-simple/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial: Introduction to the BPF Scheduler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../45-scx-nest/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example: Implementing the scx_nest Scheduler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../46-xdp-test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example: Building a High-Performance XDP Packet Generator
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../47-cuda-events/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial: Tracing CUDA GPU Operations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../48-energy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial: Energy Monitoring for Process-Level Power Analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SUMMARY/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example: Learning CO-RE eBPF Step by Step
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../18-further-reading/ebpf-security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The Secure Path Forward for eBPF runtime: Challenges and Innovations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../38-btf-uprobe/test-verify/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    using BTF to verify userspace eBPF extensions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../42-xdp-loadbalancer/connect/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Network setup for bpf-developer-tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../49-hid/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial: Fixing Broken HID Devices Without Kernel Patches
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bpftrace-tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The bpftrace One-Liner Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cgroup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial: cgroup-based Policy Control
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/bpf_arena/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example: BPF Arena for Zero-Copy Shared Memory
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/bpf_iters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial: BPF Iterators for Kernel Data Export
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/bpf_wq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial: BPF Workqueues for Asynchronous Sleepable Tasks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/dynptr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example: BPF Dynamic Pointers for Variable-Length Data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/struct_ops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial: Extending Kernel Subsystems with BPF struct_ops
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    eBPF by Example: Building a GPU Flamegraph Profiler with CUPTI
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF by Example: Building a GPU Flamegraph Profiler with CUPTI
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#a-real-world-example-profiling-a-qwen3-llm-inference" class="md-nav__link">
    <span class="md-ellipsis">
      
        A Real-World Example: Profiling a Qwen3 LLM Inference
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-magic-behind-the-scenes-injection-and-correlation" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Magic Behind the Scenes: Injection and Correlation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-core-problem-why-is-correlating-cpu-and-gpu-so-hard" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Core Problem: Why Is Correlating CPU and GPU So Hard?
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#our-profilers-architecture-ebpf-cupti-injection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Our Profiler's Architecture: eBPF + CUPTI Injection
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#meet-the-team-the-components-of-our-profiler" class="md-nav__link">
    <span class="md-ellipsis">
      
        Meet the Team: The Components of Our Profiler
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-deeper-look-how-the-profiling-pipeline-works" class="md-nav__link">
    <span class="md-ellipsis">
      
        A Deeper Look: How the Profiling Pipeline Works
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="A Deeper Look: How the Profiling Pipeline Works">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-three-pillars-of-our-profiler" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Three Pillars of Our Profiler
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-importance-of-duration-weighting" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Importance of Duration Weighting
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#putting-it-all-together-orchestration-in-gpuperfpy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Putting It All Together: Orchestration in gpuperf.py
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#putting-it-to-the-test-example-applications" class="md-nav__link">
    <span class="md-ellipsis">
      
        Putting It to the Test: Example Applications
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Putting It to the Test: Example Applications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-main-event-a-real-llm-inference-engine-qwen3cu" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Main Event: A Real LLM Inference Engine (qwen3.cu)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a-simpler-starting-point-the-mock-transformer-simulator-mock-testllm-inferencecu" class="md-nav__link">
    <span class="md-ellipsis">
      
        A Simpler Starting Point: The Mock Transformer Simulator (mock-test/llm-inference.cu)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lets-get-building-compilation-and-execution" class="md-nav__link">
    <span class="md-ellipsis">
      
        Let's Get Building: Compilation and Execution
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Let&#39;s Get Building: Compilation and Execution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-build-the-cupti-injection-library" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Build the CUPTI Injection Library
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-build-the-rust-ebpf-profiler" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Build the Rust eBPF Profiler
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-build-the-mock-llm-application" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Build the Mock LLM Application
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-build-the-real-llm-inference-application" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: Build the Real LLM Inference Application
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time-to-shine-running-the-profiler" class="md-nav__link">
    <span class="md-ellipsis">
      
        Time to Shine: Running the Profiler
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-generate-the-flamegraph" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 5: Generate the Flamegraph
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 5: Generate the Flamegraph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#navigating-your-interactive-flamegraph" class="md-nav__link">
    <span class="md-ellipsis">
      
        Navigating Your Interactive Flamegraph
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#analyzing-the-qwen3-llm-flamegraph" class="md-nav__link">
    <span class="md-ellipsis">
      
        Analyzing the Qwen3 LLM Flamegraph
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#going-deeper-inspecting-the-raw-trace-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        Going Deeper: Inspecting the Raw Trace Files
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Going Deeper: Inspecting the Raw Trace Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-the-cpu-side-story-qwen3_cputxt" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. The CPU-Side Story: qwen3_cpu.txt
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-the-gpu-side-story-qwen3_gpujson" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. The GPU-Side Story: qwen3_gpu.json
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-the-unified-story-qwen3_mergedfolded" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. The Unified Story: qwen3_merged.folded
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-road-ahead-limitations-and-future-directions" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Road Ahead: Limitations and Future Directions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Road Ahead: Limitations and Future Directions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-our-profiler-doesnt-tell-you-inside-the-kernel" class="md-nav__link">
    <span class="md-ellipsis">
      
        What Our Profiler Doesn't Tell You: Inside the Kernel
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-next-frontier-building-a-unified-system-wide-profiler" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Next Frontier: Building a Unified, System-Wide Profiler
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tying-it-all-together-your-journey-in-review" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tying It All Together: Your Journey in Review
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      
        References
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="References">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#related-gpu-profiling-tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        Related GPU Profiling Tools
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technical-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Technical Documentation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-topics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced Topics
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpu-kernel-driver/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example: Monitoring GPU Driver Activity with Kernel Tracepoints
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../npu-kernel-driver/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Tutorial by Example: Tracing Intel NPU Kernel Driver Operations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../blog" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Blog
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    bpftime
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    bpftime
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    bpftime document Userspace eBPF runtime for Observability, Network, GPU & General extensions Framework
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Documents
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Documents
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/documents/introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/documents/build-and-test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation and Test
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/documents/usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Manual
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/documents/examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Examples &amp; Use Cases
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/documents/available-features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Available kernel features in userspace
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/documents/gpu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Write and Run eBPF on GPU with bpftime
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/documents/how-it-works/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The design and implementation of bpftime
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/documents/performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Benchmark and performance evaluation for bpftime
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/documents/co-re/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Compile Once, Run Everywhere(CO-RE)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/documents/attach/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    bpftime Attach System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/documents/bpftimetool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    bpftimetool
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/documents/bpftimeaot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    bpftime-aot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/documents/contact/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contact and citations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/llvmbpf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LLVM BPF
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    EIM
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    EIM
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/EIM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    EIM: Extension Interface Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/EIM/spec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    EIM: Extension Interface Model Specification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/EIM/uprobe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UProbe Role Definition README
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/EIM/example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    EIM: Example code
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/EIM/usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    EIM Usage and people involved (Draft v1)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_4_6" >
        
          
          <label class="md-nav__link" for="__nav_4_4_6" id="__nav_4_4_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Case Studies
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Case Studies
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/EIM/study/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    studies on bugs in extensions/plugins
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/EIM/study/browser-ide-bug-study/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Study on Bugs in Browser Extensions and IDE Plugins
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/EIM/study/db-bug-study/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Study on Bugs in Database and Web Server Extension Interfaces
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/EIM/study/docker-vm-bug-study/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Study on Hypervisor and Container Extension Bugs (2018–2024)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/EIM/study/game-office-bug-study/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Case Studies of Bugs in Productivity Software and Game Extensions/Plugins (2018–2024)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/EIM/study/compare/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Extension Systems compare with EIM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Bpftime
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Bpftime
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_5_1" >
        
          
          <label class="md-nav__link" for="__nav_4_5_1" id="__nav_4_5_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    EIM
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    EIM
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_5_1_1" >
        
          
          <label class="md-nav__link" for="__nav_4_5_1_1" id="__nav_4_5_1_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Draft spec
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_5_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5_1_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Draft spec
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/EIM/draft-spec/current-EIM-lack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    EIM on verify: what can it do and what cannot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/EIM/draft-spec/spec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Extension Inferface Model Specification V3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/EIM/draft-spec/spec_core/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Spec core
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/EIM/draft-spec/spec_old/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Extension Model Specification V1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    eBPF×AI/LLMs
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    eBPF×AI/LLMs
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../GPTtrace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF × AI/LLMs: The Convergence of System Observability and Artificial Intelligence
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../GPTtrace/agentsight/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AgentSight: Zero-Instrumentation LLM Agent Observability with eBPF
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../GPTtrace/mcptrace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MCPtrace: AI-Powered Kernel Debugging with bpftrace
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../GPTtrace/gpttrace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GPTtrace Documentation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bpftime/documents/gpu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Write and Run eBPF on GPU with bpftime
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    GPTtrace
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    GPTtrace
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../GPTtrace/schedcp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SchedCP - Automatically Optimize Linux Scheduler with MCP Server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    eunomia-bpf
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    eunomia-bpf
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../eunomia-bpf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eunomia-bpf Documentation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Eunomia bpf
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Eunomia bpf
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../eunomia-bpf/benchmark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    benchmark
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../eunomia-bpf/introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../eunomia-bpf/manual/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    manual
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../eunomia-bpf/online/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Online Demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../eunomia-bpf/quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../eunomia-bpf/supporting-external-BTF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    supporting-external-BTF
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../eunomia-bpf/video/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    video
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_2_8" >
        
          
          <label class="md-nav__link" for="__nav_6_2_8" id="__nav_6_2_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Architecture
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../eunomia-bpf/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Project architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_2_9" >
        
          
          <label class="md-nav__link" for="__nav_6_2_9" id="__nav_6_2_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Ecc
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Ecc
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../eunomia-bpf/ecc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eunomia-cc
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../eunomia-bpf/ecc/docker-usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ecc docker usage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../eunomia-bpf/ecc/github-template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    github template
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../eunomia-bpf/ecc/usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ecc usage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_2_10" >
        
          
          <label class="md-nav__link" for="__nav_6_2_10" id="__nav_6_2_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Ecli
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_2_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Ecli
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../eunomia-bpf/ecli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ecli
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../eunomia-bpf/ecli/ecli-dockerfile-usage.zh/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ecli dockerfile usage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../eunomia-bpf/ecli/server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ecli server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_2_11" >
        
          
          <label class="md-nav__link" for="__nav_6_2_11" id="__nav_6_2_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Exporter
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_2_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    Exporter
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../eunomia-bpf/exporter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    exporter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../eunomia-bpf/exporter/usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    usage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_2_12" >
        
          
          <label class="md-nav__link" for="__nav_6_2_12" id="__nav_6_2_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Setup
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_2_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    Setup
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../eunomia-bpf/setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../eunomia-bpf/setup/build-android-arm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    build on android aarch64
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../eunomia-bpf/setup/build/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    build from source
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Ecosystem
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Ecosystem
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ecosystem & Other Projects
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    wasm-bpf
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    wasm-bpf
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../wasm-bpf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Wasm-bpf Documentation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Others
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Others
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/bpf-benchmark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BPF-Benchmark
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/bpf-compatible/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    bpf-compatible
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/contribute/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing to eunomia-bpf
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/ebpf-gpts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    An experiment: GPTs for eBPF
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/ideas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Possible ideas for the future
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/usecases/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ebpf usecases analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_7" >
        
          
          <label class="md-nav__link" for="__nav_7_3_7" id="__nav_7_3_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Cuda tutorial
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cuda tutorial
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cuda-tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    basic-cuda-tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cuda-tutorial/01-vector-addition/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tutorial: Your First CUDA Program - Vector Addition
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cuda-tutorial/02-ptx-assembly/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tutorial: Understanding GPU Assembly with PTX
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cuda-tutorial/03-gpu-programming-methods/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUDA Programming Methods Comparison: Matrix Multiplication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cuda-tutorial/04-gpu-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tutorial: Understanding GPU Architecture and Execution Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cuda-tutorial/05-neural-network/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tutorial: Neural Network Forward Pass on GPU
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cuda-tutorial/06-cnn-convolution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tutorial: CNN Convolution with Shared Memory Optimization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cuda-tutorial/07-attention-mechanism/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Attention Mechanism for Transformer Models with CUDA
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cuda-tutorial/08-profiling-tracing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUDA GPU Profiling and Tracing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cuda-tutorial/09-gpu-extension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GPU Application Extension Mechanisms: Modifying Behavior Without Source Code Changes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cuda-tutorial/10-cpu-gpu-profiling-boundaries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CPU and GPU Profiling Boundaries: What to Measure Where
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cuda-tutorial/11-fine-grained-gpu-modifications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fine-Grained GPU Code Modifications
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cuda-tutorial/12-advanced-gpu-customizations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced GPU Customizations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cuda-tutorial/13-low-latency-gpu-packet-processing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Low-Latency GPU Packet Processing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cuda-tutorial/14-cuda-function-annotations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUDA Function Type Annotations: A Comprehensive Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cuda-tutorial/15-opencl-vector-addition/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OpenCL Basic Example - Vector Addition Explanation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cuda-tutorial/README_PTX_Demo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PTX File Loading and Execution Demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8" id="__nav_7_3_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Cupti tutorial
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cupti tutorial
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NVIDIA CUPTI Tutorials
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_2" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_2" id="__nav_7_3_8_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Activity trace
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Activity trace
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/activity_trace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Activity Trace Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_3" id="__nav_7_3_8_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Activity trace async
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Activity trace async
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/activity_trace_async/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Asynchronous Activity Tracing Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_4" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_4" id="__nav_7_3_8_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Autorange profiling
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Autorange profiling
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/autorange_profiling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Autorange Profiling Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_5" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_5" id="__nav_7_3_8_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Callback event
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Callback event
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/callback_event/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Callback Event Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_6" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_6" id="__nav_7_3_8_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Callback metric
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Callback metric
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/callback_metric/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Performance Metrics Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_7" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_7" id="__nav_7_3_8_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Callback profiling
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Callback profiling
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/callback_profiling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Callback-Based Profiling Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_8" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_8" id="__nav_7_3_8_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Callback timestamp
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Callback timestamp
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/callback_timestamp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Timestamp Callback Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_9" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_9" id="__nav_7_3_8_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Checkpoint kernels
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Checkpoint kernels
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/checkpoint_kernels/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Checkpoint API Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_10" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_10" id="__nav_7_3_8_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Common
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Common
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/common/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Common Helper Files
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_11" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_11" id="__nav_7_3_8_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Concurrent profiling
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    Concurrent profiling
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/concurrent_profiling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Concurrent Profiling Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_12" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_12" id="__nav_7_3_8_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Cuda graphs trace
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cuda graphs trace
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/cuda_graphs_trace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUDA Graphs Tracing Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_13" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_13" id="__nav_7_3_8_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Cuda memory trace
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cuda memory trace
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/cuda_memory_trace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUDA Memory Tracing Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_14" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_14" id="__nav_7_3_8_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Cupti correlation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cupti correlation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/cupti_correlation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI API-GPU Activity Correlation Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_15" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_15" id="__nav_7_3_8_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Cupti external correlation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cupti external correlation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/cupti_external_correlation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI External Correlation Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_16" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_16" id="__nav_7_3_8_16_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Cupti finalize
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_16">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cupti finalize
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/cupti_finalize/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Finalization and Cleanup Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_17" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_17" id="__nav_7_3_8_17_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Cupti metric properties
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_17">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cupti metric properties
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/cupti_metric_properties/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Metric Properties Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_18" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_18" id="__nav_7_3_8_18_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Cupti nvtx
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_18">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cupti nvtx
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/cupti_nvtx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI NVTX Integration Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_19" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_19" id="__nav_7_3_8_19_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Cupti query
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_19_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_19">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cupti query
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/cupti_query/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Query API Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_20" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_20" id="__nav_7_3_8_20_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Cupti trace injection
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_20_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_20">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cupti trace injection
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/cupti_trace_injection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Trace Injection Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_21" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_21" id="__nav_7_3_8_21_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Event multi gpu
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_21_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_21">
            <span class="md-nav__icon md-icon"></span>
            
  
    Event multi gpu
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/event_multi_gpu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Multi-GPU Event Profiling Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_22" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_22" id="__nav_7_3_8_22_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Event sampling
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_22_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_22">
            <span class="md-nav__icon md-icon"></span>
            
  
    Event sampling
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/event_sampling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Event Sampling Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_23" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_23" id="__nav_7_3_8_23_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Extensions
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_23_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_23">
            <span class="md-nav__icon md-icon"></span>
            
  
    Extensions
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/extensions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Extensions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_24" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_24" id="__nav_7_3_8_24_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Nested range profiling
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_24_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_24">
            <span class="md-nav__icon md-icon"></span>
            
  
    Nested range profiling
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/nested_range_profiling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Nested Range Profiling Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_25" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_25" id="__nav_7_3_8_25_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Nvlink bandwidth
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_25_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_25">
            <span class="md-nav__icon md-icon"></span>
            
  
    Nvlink bandwidth
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/nvlink_bandwidth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI NVLink Bandwidth Monitoring Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_26" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_26" id="__nav_7_3_8_26_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Openacc trace
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_26_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_26">
            <span class="md-nav__icon md-icon"></span>
            
  
    Openacc trace
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/openacc_trace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI OpenACC Tracing Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_27" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_27" id="__nav_7_3_8_27_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Pc sampling
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_27_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_27">
            <span class="md-nav__icon md-icon"></span>
            
  
    Pc sampling
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/pc_sampling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI PC Sampling Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_28" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_28" id="__nav_7_3_8_28_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Pc sampling continuous
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_28_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_28">
            <span class="md-nav__icon md-icon"></span>
            
  
    Pc sampling continuous
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/pc_sampling_continuous/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Program Counter (PC) Sampling Continuous Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_29" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_29" id="__nav_7_3_8_29_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Pc sampling start stop
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_29_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_29">
            <span class="md-nav__icon md-icon"></span>
            
  
    Pc sampling start stop
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/pc_sampling_start_stop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI PC Sampling Start/Stop Control Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_30" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_30" id="__nav_7_3_8_30_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Pc sampling utility
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_30_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_30">
            <span class="md-nav__icon md-icon"></span>
            
  
    Pc sampling utility
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/pc_sampling_utility/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI PC Sampling Analysis Utility Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_31" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_31" id="__nav_7_3_8_31_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Pm sampling
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_31_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_31">
            <span class="md-nav__icon md-icon"></span>
            
  
    Pm sampling
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/pm_sampling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Performance Monitor Sampling Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_32" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_32" id="__nav_7_3_8_32_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Profiling injection
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_32_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_32">
            <span class="md-nav__icon md-icon"></span>
            
  
    Profiling injection
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/profiling_injection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Profiling API Injection Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_33" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_33" id="__nav_7_3_8_33_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Range profiling
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_33_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_33">
            <span class="md-nav__icon md-icon"></span>
            
  
    Range profiling
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/range_profiling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Range Profiling Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_34" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_34" id="__nav_7_3_8_34_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Sass metrics
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_34_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_34">
            <span class="md-nav__icon md-icon"></span>
            
  
    Sass metrics
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/sass_metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SASS Metrics Collection Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_35" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_35" id="__nav_7_3_8_35_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Sass source map
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_35_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_35">
            <span class="md-nav__icon md-icon"></span>
            
  
    Sass source map
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/sass_source_map/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI SASS Source Mapping Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_36" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_36" id="__nav_7_3_8_36_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Unified memory
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_36_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_36">
            <span class="md-nav__icon md-icon"></span>
            
  
    Unified memory
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/unified_memory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI Unified Memory Profiling Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_8_37" >
        
          
          <label class="md-nav__link" for="__nav_7_3_8_37" id="__nav_7_3_8_37_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Userrange profiling
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_8_37_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_8_37">
            <span class="md-nav__icon md-icon"></span>
            
  
    Userrange profiling
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/cupti-tutorial/userrange_profiling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CUPTI User-Range Profiling Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_9" >
        
          
          <label class="md-nav__link" for="__nav_7_3_9" id="__nav_7_3_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Miscellaneous
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_3_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Miscellaneous
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/miscellaneous/bpftime-kubecon-draft/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF and Wasm: Unifying Userspace Extensions With Bpftime - Yusheng Zheng, eunomia-bpf
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/miscellaneous/bpftime-roadmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About bpftime - bpftime ideas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/miscellaneous/ebpf-fuse/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    基于内核态/用户态 eBPF 实现高性能用户态文件系统功能 - 操作系统大赛赛题
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/miscellaneous/ebpf-gpu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    使用 eBPF 对 AI/ML 工作负载进行追踪和性能分析 - 操作系统大赛赛题
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/miscellaneous/ebpf-linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Project Proposal for bpftime - eBPF Foundation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/miscellaneous/ebpf-lsm-usm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    实现内核与用户态共同工作的 eBPF 安全框架 - 操作系统大赛赛题
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/miscellaneous/ebpf-usecases/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Categorization of eBPF Hooks and Use Cases
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/miscellaneous/ebpf-userspace-port/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    将用户态 eBPF 扩展到 MacOS、Windows、FreeBSD 等更多平台 - 操作系统大赛赛题
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/miscellaneous/ebpf-uxdp-workshop-talk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    uXDP: Frictionless XDP Deployments in Userspace (12-min talk)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/miscellaneous/gsoc-ospp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GSOC - OSPP draft proposal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/miscellaneous/ideas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    开源活动的可能想法 - eunomia-bpf 2024
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/miscellaneous/linux-plumbers-talk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    bpftime talk at linux plumbers 2025
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/miscellaneous/osdi-talk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Speech Script for OSDI 2025 bpftime talk "Extending Applications Safely and Efficiently"
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/miscellaneous/roadmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    bpftime roadmap and ideas for 2024
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/miscellaneous/talk-ebpf-summit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eBPF Summit 2025 bpftime talk
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/miscellaneous/wasm-bpf-kubecon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Securing and Simplifying eBPF Deployments with WebAssembly
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/miscellaneous/wasm-bpf-talk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    talk draft in kubecon
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_10" >
        
          
          <label class="md-nav__link" for="__nav_7_3_10" id="__nav_7_3_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Nvbit tutorial
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_3_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Nvbit tutorial
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/nvbit-tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NVBit Tutorial: Comprehensive Guide to GPU Binary Instrumentation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_10_2" >
        
          
          <label class="md-nav__link" for="__nav_7_3_10_2" id="__nav_7_3_10_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tools
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_10_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_10_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tools
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/nvbit-tutorial/tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NVBit Tutorial Tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_10_2_2" >
        
          
          <label class="md-nav__link" for="__nav_7_3_10_2_2" id="__nav_7_3_10_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Instr count
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_3_10_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_10_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Instr count
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/nvbit-tutorial/tools/instr_count/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NVBit Tutorial: Instruction Counting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_10_2_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3_10_2_3" id="__nav_7_3_10_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Instr count bb
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_3_10_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_10_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Instr count bb
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/nvbit-tutorial/tools/instr_count_bb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NVBit Tutorial: Basic Block Instruction Counting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_10_2_4" >
        
          
          <label class="md-nav__link" for="__nav_7_3_10_2_4" id="__nav_7_3_10_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Instr count cuda graph
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_3_10_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_10_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Instr count cuda graph
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/nvbit-tutorial/tools/instr_count_cuda_graph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NVBit Tutorial: Instruction Counting with CUDA Graphs Support
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_10_2_5" >
        
          
          <label class="md-nav__link" for="__nav_7_3_10_2_5" id="__nav_7_3_10_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Mem printf2
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_3_10_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_10_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Mem printf2
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/nvbit-tutorial/tools/mem_printf2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NVBit Tutorial: GPU-to-CPU Printing with mem_printf2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_10_2_6" >
        
          
          <label class="md-nav__link" for="__nav_7_3_10_2_6" id="__nav_7_3_10_2_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Mem trace
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_3_10_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_10_2_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Mem trace
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/nvbit-tutorial/tools/mem_trace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NVBit Tutorial: Memory Tracing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_10_2_7" >
        
          
          <label class="md-nav__link" for="__nav_7_3_10_2_7" id="__nav_7_3_10_2_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Mov replace
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_3_10_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_10_2_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Mov replace
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/nvbit-tutorial/tools/mov_replace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NVBit Tutorial: MOV Instruction Replacement
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_10_2_8" >
        
          
          <label class="md-nav__link" for="__nav_7_3_10_2_8" id="__nav_7_3_10_2_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Opcode hist
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_3_10_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_10_2_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Opcode hist
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/nvbit-tutorial/tools/opcode_hist/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NVBit Tutorial: Opcode Histogram
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_10_2_9" >
        
          
          <label class="md-nav__link" for="__nav_7_3_10_2_9" id="__nav_7_3_10_2_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Record reg vals
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_3_10_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_10_2_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Record reg vals
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/nvbit-tutorial/tools/record_reg_vals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NVBit Tutorial: Register Value Recording
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3_11" >
        
          
          <label class="md-nav__link" for="__nav_7_3_11" id="__nav_7_3_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Papers
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_3_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    Papers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/papers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    paper reading and translate
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/papers/osdi20-brunella/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    hXDP: Efficient Software Packet Processing on FPGA NICs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#a-real-world-example-profiling-a-qwen3-llm-inference" class="md-nav__link">
    <span class="md-ellipsis">
      
        A Real-World Example: Profiling a Qwen3 LLM Inference
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-magic-behind-the-scenes-injection-and-correlation" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Magic Behind the Scenes: Injection and Correlation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-core-problem-why-is-correlating-cpu-and-gpu-so-hard" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Core Problem: Why Is Correlating CPU and GPU So Hard?
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#our-profilers-architecture-ebpf-cupti-injection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Our Profiler's Architecture: eBPF + CUPTI Injection
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#meet-the-team-the-components-of-our-profiler" class="md-nav__link">
    <span class="md-ellipsis">
      
        Meet the Team: The Components of Our Profiler
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-deeper-look-how-the-profiling-pipeline-works" class="md-nav__link">
    <span class="md-ellipsis">
      
        A Deeper Look: How the Profiling Pipeline Works
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="A Deeper Look: How the Profiling Pipeline Works">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-three-pillars-of-our-profiler" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Three Pillars of Our Profiler
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-importance-of-duration-weighting" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Importance of Duration Weighting
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#putting-it-all-together-orchestration-in-gpuperfpy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Putting It All Together: Orchestration in gpuperf.py
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#putting-it-to-the-test-example-applications" class="md-nav__link">
    <span class="md-ellipsis">
      
        Putting It to the Test: Example Applications
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Putting It to the Test: Example Applications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-main-event-a-real-llm-inference-engine-qwen3cu" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Main Event: A Real LLM Inference Engine (qwen3.cu)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a-simpler-starting-point-the-mock-transformer-simulator-mock-testllm-inferencecu" class="md-nav__link">
    <span class="md-ellipsis">
      
        A Simpler Starting Point: The Mock Transformer Simulator (mock-test/llm-inference.cu)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lets-get-building-compilation-and-execution" class="md-nav__link">
    <span class="md-ellipsis">
      
        Let's Get Building: Compilation and Execution
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Let&#39;s Get Building: Compilation and Execution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-build-the-cupti-injection-library" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Build the CUPTI Injection Library
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-build-the-rust-ebpf-profiler" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Build the Rust eBPF Profiler
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-build-the-mock-llm-application" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Build the Mock LLM Application
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-build-the-real-llm-inference-application" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: Build the Real LLM Inference Application
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time-to-shine-running-the-profiler" class="md-nav__link">
    <span class="md-ellipsis">
      
        Time to Shine: Running the Profiler
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-generate-the-flamegraph" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 5: Generate the Flamegraph
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 5: Generate the Flamegraph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#navigating-your-interactive-flamegraph" class="md-nav__link">
    <span class="md-ellipsis">
      
        Navigating Your Interactive Flamegraph
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#analyzing-the-qwen3-llm-flamegraph" class="md-nav__link">
    <span class="md-ellipsis">
      
        Analyzing the Qwen3 LLM Flamegraph
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#going-deeper-inspecting-the-raw-trace-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        Going Deeper: Inspecting the Raw Trace Files
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Going Deeper: Inspecting the Raw Trace Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-the-cpu-side-story-qwen3_cputxt" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. The CPU-Side Story: qwen3_cpu.txt
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-the-gpu-side-story-qwen3_gpujson" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. The GPU-Side Story: qwen3_gpu.json
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-the-unified-story-qwen3_mergedfolded" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. The Unified Story: qwen3_merged.folded
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-road-ahead-limitations-and-future-directions" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Road Ahead: Limitations and Future Directions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Road Ahead: Limitations and Future Directions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-our-profiler-doesnt-tell-you-inside-the-kernel" class="md-nav__link">
    <span class="md-ellipsis">
      
        What Our Profiler Doesn't Tell You: Inside the Kernel
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-next-frontier-building-a-unified-system-wide-profiler" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Next Frontier: Building a Unified, System-Wide Profiler
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tying-it-all-together-your-journey-in-review" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tying It All Together: Your Journey in Review
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      
        References
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="References">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#related-gpu-profiling-tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        Related GPU Profiling Tools
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technical-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Technical Documentation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-topics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced Topics
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                




              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/eunomia-bpf/eunomia.dev/tree/main/docs/tutorials/xpu/flamegraph/README.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="ebpf-by-example-building-a-gpu-flamegraph-profiler-with-cupti">eBPF by Example: Building a GPU Flamegraph Profiler with CUPTI</h1>
<p>Have you ever wondered which part of your CPU code is responsible for launching a specific GPU kernel? CPU profilers can show you the host-side call stacks, but they lose visibility once the work is handed off to the GPU. On the other hand, GPU profilers detail what's happening on the device but often don't link it back to the specific CPU function that initiated it. This creates a blind spot, making it difficult to answer a critical question: "Which line of my code is causing this slow GPU kernel to run?"</p>
<p>This tutorial will guide you through building a profiler that bridges this gap. You will create a unified CPU-to-GPU flamegraph using the power of eBPF and NVIDIA's CUPTI (CUDA Profiling Tools Interface). By the end, you'll have a tool that captures CPU stack traces at the moment of a <code>cudaLaunchKernel()</code> call and intelligently stitches them together with the corresponding GPU kernel's execution data. The result is a powerful visualization that reveals exactly which host code paths are triggering which GPU kernels, allowing you to pinpoint performance bottlenecks without recompiling your application. We'll achieve this by using CUPTI's correlation IDs, which act as a bridge connecting CPU-side API calls with their GPU-side kernel executions.</p>
<h2 id="a-real-world-example-profiling-a-qwen3-llm-inference">A Real-World Example: Profiling a Qwen3 LLM Inference</h2>
<p>To see our profiler in action, let's look at a real-world example: profiling a Qwen3 0.6B Large Language Model during inference. The resulting flamegraph, shown below, visualizes the entire operation, merging CPU call stacks with the GPU kernels they launch. It immediately becomes clear that the <code>matmul_kernel</code> (matrix multiplication) is the most time-consuming part, accounting for 95% of the total GPU execution time.</p>
<p><img alt="Qwen3 LLM Inference Flamegraph" src="qwen3_flamegraph.svg" /></p>
<p><strong>Key Insights from this Flamegraph:</strong></p>
<p>This visualization gives us a clear breakdown of where the GPU is spending its time:
- <strong><code>matmul_kernel</code></strong>: 3.1 seconds (95% of GPU time). This tells us that matrix multiplication is, by far, the biggest performance bottleneck.
- <strong><code>multi_head_attention_kernel</code></strong>: 105ms (3.2%). The attention mechanism adds a small amount of overhead.
- <strong><code>rmsnorm_kernel</code></strong>: 44ms (1.3%). Normalization is a relatively inexpensive operation.
- <strong>End-to-End Visibility</strong>: The flamegraph shows the complete call chain, from the <code>main</code> function on the CPU all the way to the specific <code>[GPU_Kernel]</code> executing on the device.</p>
<h2 id="the-magic-behind-the-scenes-injection-and-correlation">The Magic Behind the Scenes: Injection and Correlation</h2>
<p>So, how do we create this unified view? The process involves two key technologies working in tandem: eBPF for the CPU side and CUPTI for the GPU side.</p>
<ol>
<li>
<p><strong>GPU Tracing with CUPTI Injection</strong>: We start by creating a small, custom CUPTI library. By setting the <code>CUDA_INJECTION64_PATH</code> environment variable, we tell the CUDA runtime to load our library alongside the application. Once loaded, this library uses the CUPTI API to record all GPU activities, such as kernel launches and memory transfers. Crucially, it captures timestamps and special <strong>correlation IDs</strong> for each event.</p>
</li>
<li>
<p><strong>CPU Profiling with eBPF</strong>: At the same time, we use an eBPF "uprobe" to monitor the application from the outside. This probe is attached to the <code>cudaLaunchKernel()</code> function within the CUDA runtime library. Whenever the application calls this function to launch a kernel, our eBPF program springs into action, capturing the complete CPU call stack at that exact moment.</p>
</li>
<li>
<p><strong>Connecting the Dots</strong>: After the application finishes running, we are left with two sets of data: a trace of GPU events from CUPTI and a collection of CPU stack traces from eBPF. A final script then merges them. It uses the <strong>correlation IDs</strong> from CUPTI to link a specific <code>cudaLaunchKernel</code> API call to the actual kernel that ran on the GPU. It then finds the corresponding CPU stack trace captured by eBPF (usually by matching timestamps) and appends the GPU kernel's name to it.</p>
</li>
</ol>
<p>The result is a "folded" stack file, ready to be turned into a flamegraph, where each line represents a complete CPU-to-GPU call chain.</p>
<blockquote>
<p>You can find the complete source code for this tutorial here: <a href="https://github.com/eunomia-bpf/bpf-developer-tutorial/tree/main/src/xpu/flamegraph">https://github.com/eunomia-bpf/bpf-developer-tutorial/tree/main/src/xpu/flamegraph</a></p>
</blockquote>
<h2 id="the-core-problem-why-is-correlating-cpu-and-gpu-so-hard">The Core Problem: Why Is Correlating CPU and GPU So Hard?</h2>
<p>To understand why we need a special tool, it's important to grasp the fundamental challenge of GPU profiling. When you run a CUDA application, you're dealing with two distinct worlds operating in parallel: the <strong>CPU</strong> and the <strong>GPU</strong>.</p>
<ul>
<li><strong>On the CPU side</strong>, your application code makes calls to the CUDA runtime library (e.g., <code>cudaLaunchKernel</code>, <code>cudaMemcpy</code>). These calls don't execute the work directly; instead, they package up commands and send them to the GPU driver.</li>
<li><strong>On the GPU side</strong>, the hardware picks up these commands and executes them. This involves launching kernels with thousands of threads, moving data, and performing computations.</li>
</ul>
<p>The performance bottlenecks you want to find often live in the handoff between these two worlds. Traditional profilers struggle here. A CPU profiler (<code>perf</code>, for example) can tell you that your program spent a lot of time inside <code>cudaLaunchKernel</code>, but it can't tell you <em>which</em> kernel was launched or how long it actually ran on the GPU. Conversely, a GPU profiler (like NVIDIA's Nsight) will give you detailed metrics about a kernel's execution but won't show you the specific line of CPU code that caused it to run.</p>
<p>This disconnect is the problem we're solving. And it's not unique to NVIDIA. Whether you're using AMD's ROCm or Intel's Level Zero, the challenge of linking CPU-side causes to GPU-side effects is universal. The solution, regardless of the platform, is to find a way to "tag" a request on the CPU and find that same tag on the GPU.</p>
<p>Fortunately, NVIDIA's CUDA runtime provides exactly what we need: <strong>correlation IDs</strong>. Every time an API call like <code>cudaLaunchKernel</code> is made, the runtime assigns it a unique ID. This ID is passed along with the work to the GPU. Later, when the kernel executes, it carries the same ID. By capturing this ID on both sides, we can definitively link a CPU call stack to a GPU kernel execution. This is where CUPTI becomes essential, as it gives us access to these activity records. By injecting a CUPTI-based tracer into our application, we can harvest these events without having to recompile anything.</p>
<h2 id="our-profilers-architecture-ebpf-cupti-injection">Our Profiler's Architecture: eBPF + CUPTI Injection</h2>
<p>Our profiler is built on a three-part architecture that combines eBPF, CUPTI, and a final merging step. Here’s how the pieces fit together:</p>
<ol>
<li>
<p><strong>The eBPF Profiler (CPU-Side Monitoring)</strong>: This component acts as our CPU-side watchdog. It uses an eBPF <strong>uprobe</strong> to attach to the <code>cudaLaunchKernel</code> function inside the CUDA runtime library. Whenever any process on the system calls this function, our eBPF program triggers, instantly capturing the full CPU call stack with nanosecond precision. This gives us a snapshot of the exact code path—from the main function down to the specific loop or method—that initiated the GPU work.</p>
</li>
<li>
<p><strong>The CUPTI Injection Library (GPU-Side Tracing)</strong>: To see what the GPU is doing, we use a clever trick called library injection. We compile a small shared library that uses the CUPTI API. By setting the <code>CUDA_INJECTION64_PATH</code> environment variable, we instruct the CUDA runtime to load our library into the target application automatically. Once inside, it activates CUPTI's activity tracing, which records detailed events for kernel executions and runtime API calls. These records include high-precision timestamps and, most importantly, the <strong>correlation IDs</strong> that link everything together.</p>
</li>
<li>
<p><strong>The Trace Merger (Connecting the Traces)</strong>: After the profiling session ends, we have two raw data streams: CPU stack traces from eBPF and GPU activity records from CUPTI. The final step is to merge them. A script parses both traces and begins the correlation process. It first finds matching <code>cudaLaunchKernel</code> events between the two traces (using timestamps as a guide) and then uses the correlation ID from those events to link the CPU-side call to the correct GPU kernel execution. The output is a unified "folded stack" file, where each line looks something like this: <code>cpu_func1;cpu_func2;cudaLaunchKernel;[GPU_Kernel]kernel_name count</code>. This format is exactly what the standard <code>flamegraph.pl</code> script needs to generate the final visualization.</p>
</li>
</ol>
<h2 id="meet-the-team-the-components-of-our-profiler">Meet the Team: The Components of Our Profiler</h2>
<p>Our profiling system is made up of four key components that work together to give us a complete picture of our application's performance. Let's get to know the role each one plays.</p>
<ul>
<li>
<p><strong>The Conductor: <code>gpuperf.py</code></strong>
    This Python script is the main entry point and orchestrator of the entire profiling process. It's responsible for launching the target application with both the eBPF profiler and CUPTI tracer active. It sets up the necessary environment variables, starts and stops the tracers at the right time, and kicks off the final merge step to produce the unified flamegraph data. It also gracefully handles cleanup and offers different modes, allowing you to run a CPU-only, GPU-only, or a combined profile.</p>
</li>
<li>
<p><strong>The CPU Spy: The Rust eBPF Profiler (<code>profiler/</code>)</strong>
    This is a high-performance stack trace collector built in Rust using the <code>libbpf</code> library. Its job is to spy on the CPU. It attaches an eBPF uprobe to the <code>cudaLaunchKernel</code> function in the CUDA runtime library. Every time this function is called, the profiler captures the full user-space stack trace, records a high-precision timestamp, and saves it in a special "extended folded format." This extended format is crucial because the timestamps are what allow us to later correlate these CPU events with GPU activity.</p>
</li>
<li>
<p><strong>The GPU Informant: The CUPTI Trace Injection Library (<code>cupti_trace/</code>)</strong>
    This is a C++ shared library that acts as our informant on the inside. Loaded into the target application via <code>CUDA_INJECTION64_PATH</code>, it uses the CUPTI API to subscribe to GPU activities. It records detailed information about runtime API calls and kernel executions, including their start and end timestamps and their all-important <strong>correlation IDs</strong>. This library is designed to be non-intrusive; it collects data asynchronously and writes it to a trace file, all without requiring any changes to the original application.</p>
</li>
<li>
<p><strong>The Detective: The Trace Merger (<code>merge_gpu_cpu_trace.py</code>)</strong>
    This Python script plays the role of the detective. After the profiling run is complete, it takes the CPU trace from our eBPF spy and the GPU trace from our CUPTI informant and pieces the story together. It intelligently matches the CPU stack traces to their corresponding GPU kernel executions using a two-step process: first by finding events that are close in time, and then by confirming the match using the correlation ID. Once a match is found, it appends the GPU kernel's name to the CPU stack trace and generates the final folded stack file, ready for visualization.</p>
</li>
</ul>
<h2 id="a-deeper-look-how-the-profiling-pipeline-works">A Deeper Look: How the Profiling Pipeline Works</h2>
<p>To truly understand how our profiler works, let's follow the journey of a single <code>cudaLaunchKernel</code> call as it travels through our entire pipeline. From the moment you execute the <code>gpuperf.py</code> script to the final generation of the flamegraph, we'll trace the data flow and see how each component plays its part.</p>
<h3 id="the-three-pillars-of-our-profiler">The Three Pillars of Our Profiler</h3>
<p>Our pipeline is built on three core technical implementations. Let's examine the key code snippets from each to understand how they function.</p>
<ol>
<li>
<p><strong>Capturing CPU Stacks with the eBPF Profiler (<code>profiler/src/bpf/profile.bpf.c</code>)</strong></p>
<p>At the heart of our CPU-side monitoring is a lightweight eBPF program written in C. This program is compiled into highly efficient, native bytecode that runs directly in the kernel, ensuring minimal performance overhead. Unlike tools that interpret scripts at runtime, this <code>libbpf</code>-based approach is fast and safe. We use it to dynamically attach a uprobe to the <code>cudaLaunchKernel</code> function without having to modify any of NVIDIA's own binaries.</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1">// eBPF program that captures stack traces when cudaLaunchKernel is called</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="n">SEC</span><span class="p">(</span><span class="s">&quot;uprobe&quot;</span><span class="p">)</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kt">int</span><span class="w"> </span><span class="n">uprobe_handler</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">pt_regs</span><span class="w"> </span><span class="o">*</span><span class="n">ctx</span><span class="p">)</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="p">{</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">stacktrace_event</span><span class="w"> </span><span class="o">*</span><span class="n">event</span><span class="p">;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">    </span><span class="c1">// Reserve space in ring buffer for the event</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">    </span><span class="n">event</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bpf_ringbuf_reserve</span><span class="p">(</span><span class="o">&amp;</span><span class="n">events</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="o">*</span><span class="n">event</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">event</span><span class="p">)</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">    </span><span class="c1">// Capture process/thread info</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">    </span><span class="n">event</span><span class="o">-&gt;</span><span class="n">pid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bpf_get_current_pid_tgid</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">32</span><span class="p">;</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="w">    </span><span class="n">event</span><span class="o">-&gt;</span><span class="n">cpu_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bpf_get_smp_processor_id</span><span class="p">();</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="w">    </span><span class="n">event</span><span class="o">-&gt;</span><span class="n">timestamp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bpf_ktime_get_ns</span><span class="p">();</span><span class="w">  </span><span class="c1">// Nanosecond timestamp</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="w">    </span><span class="n">bpf_get_current_comm</span><span class="p">(</span><span class="n">event</span><span class="o">-&gt;</span><span class="n">comm</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">event</span><span class="o">-&gt;</span><span class="n">comm</span><span class="p">));</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="w">    </span><span class="c1">// Capture kernel and user stack traces</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="w">    </span><span class="n">event</span><span class="o">-&gt;</span><span class="n">kstack_sz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bpf_get_stack</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span><span class="w"> </span><span class="n">event</span><span class="o">-&gt;</span><span class="n">kstack</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">event</span><span class="o">-&gt;</span><span class="n">kstack</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="w">    </span><span class="n">event</span><span class="o">-&gt;</span><span class="n">ustack_sz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bpf_get_stack</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span><span class="w"> </span><span class="n">event</span><span class="o">-&gt;</span><span class="n">ustack</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">event</span><span class="o">-&gt;</span><span class="n">ustack</span><span class="p">),</span><span class="w"> </span><span class="n">BPF_F_USER_STACK</span><span class="p">);</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="w">    </span><span class="n">bpf_ringbuf_submit</span><span class="p">(</span><span class="n">event</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="p">}</span>
</code></pre></div>
<p>When the <code>uprobe_handler</code> is triggered, it captures all the necessary information about the CPU-side call. It records the process and thread ID, grabs a nanosecond-precision timestamp, and, most importantly, uses the <code>bpf_get_stack()</code> helper to walk the user-space stack and capture the full call chain. This data is then efficiently sent from the kernel to our user-space Rust application via a BPF ring buffer.</p>
<p>Once in user space, the Rust profiler performs several key tasks. It receives the raw stack data, resolves the memory addresses to human-readable function names (a process called symbolization, done here with the <code>blazesym</code> library), and formats it all into our special "extended folded format."</p>
<p>A standard folded stack for a flamegraph looks like this: <code>stack1;stack2;stack3 1</code>. The <code>1</code> at the end is simply a count. Our extended format, enabled with the <code>-E</code> flag, adds crucial temporal and contextual information: <code>timestamp_ns comm pid tid cpu stack1;stack2;...;stackN</code>. This timestamp is the key that will unlock the correlation with the GPU trace data. It tells us <em>exactly when</em> the <code>cudaLaunchKernel</code> call happened, allowing us to match it with GPU events that occur microseconds or milliseconds later.</p>
<ol>
<li>
<p><strong>Spying on the GPU with the CUPTI Injection Library (<code>cupti_trace/cupti_trace_injection.cpp</code>)</strong></p>
<p>Now for the GPU side. How do we see what the GPU is doing without modifying the application? We use a powerful feature of the CUDA driver called <strong>library injection</strong>. We create a small C++ shared library that acts as our GPU informant. By setting the <code>CUDA_INJECTION64_PATH</code> environment variable to point to our library, we tell the CUDA runtime to load it into the application's process space automatically.</p>
<p>The magic happens because our library is loaded <em>before</em> the main CUDA runtime is fully initialized. This gives us the perfect opportunity to set up our spy gear. We use a <code>__attribute__((constructor))</code> function, which the Linux dynamic loader runs automatically when our library is loaded. Inside this constructor, we activate CUPTI and tell it which events we're interested in.</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1">// This function is automatically called when our library is loaded.</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">__attribute__</span><span class="p">((</span><span class="n">constructor</span><span class="p">))</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="kt">void</span><span class="w"> </span><span class="n">InitializeInjection</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="p">{</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">    </span><span class="c1">// Subscribe to CUPTI callbacks</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">    </span><span class="n">cuptiSubscribe</span><span class="p">(</span><span class="o">&amp;</span><span class="n">subscriberHandle</span><span class="p">,</span><span class="w"> </span><span class="n">CallbackHandler</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">    </span><span class="c1">// Enable activity tracing for kernels and runtime APIs</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">    </span><span class="n">cuptiActivityEnable</span><span class="p">(</span><span class="n">CUPTI_ACTIVITY_KIND_CONCURRENT_KERNEL</span><span class="p">);</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">    </span><span class="n">cuptiActivityEnable</span><span class="p">(</span><span class="n">CUPTI_ACTIVITY_KIND_RUNTIME</span><span class="p">);</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="w">    </span><span class="c1">// Register our callback functions to handle the data buffers.</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w">    </span><span class="c1">// CUPTI will call `BufferRequested` when it needs memory to store data,</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="w">    </span><span class="c1">// and `BufferCompleted` when a buffer is full and ready for processing.</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="w">    </span><span class="n">cuptiActivityRegisterCallbacks</span><span class="p">(</span><span class="n">BufferRequested</span><span class="p">,</span><span class="w"> </span><span class="n">BufferCompleted</span><span class="p">);</span>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="p">}</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="c1">// This callback is triggered by CUPTI whenever a buffer of activity records is full.</span>
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="kt">void</span><span class="w"> </span><span class="n">CUPTIAPI</span><span class="w"> </span><span class="n">BufferCompleted</span><span class="p">(</span><span class="n">CUcontext</span><span class="w"> </span><span class="n">ctx</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">streamId</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="p">,</span>
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a><span class="w">                               </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">validSize</span><span class="p">)</span>
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a><span class="p">{</span>
<a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a><span class="w">    </span><span class="n">CUpti_Activity</span><span class="w"> </span><span class="o">*</span><span class="n">record</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a>
<a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a><span class="w">    </span><span class="c1">// Iterate through all the activity records in the completed buffer.</span>
<a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">CUPTI_SUCCESS</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">cuptiActivityGetNextRecord</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="n">validSize</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">record</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a><span class="w">        </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">record</span><span class="o">-&gt;</span><span class="n">kind</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a><span class="w">            </span><span class="c1">// This record type contains details about a GPU kernel&#39;s execution.</span>
<a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="no">CUPTI_ACTIVITY_KIND_CONCURRENT_KERNEL</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a><span class="w">                </span><span class="n">CUpti_ActivityKernel4</span><span class="w"> </span><span class="o">*</span><span class="n">kernel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">CUpti_ActivityKernel4</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">record</span><span class="p">;</span>
<a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a>
<a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a><span class="w">                </span><span class="c1">// We extract the most important details: the kernel&#39;s name, its start and</span>
<a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a><span class="w">                </span><span class="c1">// end timestamps (from the GPU&#39;s own high-precision clock), and the</span>
<a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a><span class="w">                </span><span class="c1">// all-important correlation ID that links it back to a CPU-side API call.</span>
<a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a><span class="w">                </span><span class="n">fprintf</span><span class="p">(</span><span class="n">outputFile</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;CONCURRENT_KERNEL [ %llu, %llu ] duration %llu, </span><span class="se">\&quot;</span><span class="s">%s</span><span class="se">\&quot;</span><span class="s">, correlationId %u</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a><span class="w">                        </span><span class="n">kernel</span><span class="o">-&gt;</span><span class="n">start</span><span class="p">,</span><span class="w">           </span><span class="c1">// GPU timestamp (ns)</span>
<a id="__codelineno-1-36" name="__codelineno-1-36" href="#__codelineno-1-36"></a><span class="w">                        </span><span class="n">kernel</span><span class="o">-&gt;</span><span class="n">end</span><span class="p">,</span><span class="w">             </span><span class="c1">// GPU timestamp (ns)</span>
<a id="__codelineno-1-37" name="__codelineno-1-37" href="#__codelineno-1-37"></a><span class="w">                        </span><span class="n">kernel</span><span class="o">-&gt;</span><span class="n">end</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">kernel</span><span class="o">-&gt;</span><span class="n">start</span><span class="p">,</span>
<a id="__codelineno-1-38" name="__codelineno-1-38" href="#__codelineno-1-38"></a><span class="w">                        </span><span class="n">kernel</span><span class="o">-&gt;</span><span class="n">name</span><span class="p">,</span><span class="w">            </span><span class="c1">// Kernel function name</span>
<a id="__codelineno-1-39" name="__codelineno-1-39" href="#__codelineno-1-39"></a><span class="w">                        </span><span class="n">kernel</span><span class="o">-&gt;</span><span class="n">correlationId</span><span class="p">);</span><span class="w">  </span><span class="c1">// The link to the CPU API call!</span>
<a id="__codelineno-1-40" name="__codelineno-1-40" href="#__codelineno-1-40"></a><span class="w">                </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-1-41" name="__codelineno-1-41" href="#__codelineno-1-41"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-1-42" name="__codelineno-1-42" href="#__codelineno-1-42"></a><span class="w">            </span><span class="c1">// This record type contains details about a CUDA runtime API call.</span>
<a id="__codelineno-1-43" name="__codelineno-1-43" href="#__codelineno-1-43"></a><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="no">CUPTI_ACTIVITY_KIND_RUNTIME</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-44" name="__codelineno-1-44" href="#__codelineno-1-44"></a><span class="w">                </span><span class="n">CUpti_ActivityAPI</span><span class="w"> </span><span class="o">*</span><span class="n">api</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">CUpti_ActivityAPI</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">record</span><span class="p">;</span>
<a id="__codelineno-1-45" name="__codelineno-1-45" href="#__codelineno-1-45"></a>
<a id="__codelineno-1-46" name="__codelineno-1-46" href="#__codelineno-1-46"></a><span class="w">                </span><span class="c1">// We only care about `cudaLaunchKernel` calls, as they are the ones</span>
<a id="__codelineno-1-47" name="__codelineno-1-47" href="#__codelineno-1-47"></a><span class="w">                </span><span class="c1">// that launch the kernels we&#39;re tracking.</span>
<a id="__codelineno-1-48" name="__codelineno-1-48" href="#__codelineno-1-48"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">api</span><span class="o">-&gt;</span><span class="n">cbid</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CUPTI_RUNTIME_TRACE_CBID_cudaLaunchKernel_v7000</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-49" name="__codelineno-1-49" href="#__codelineno-1-49"></a><span class="w">                    </span><span class="n">fprintf</span><span class="p">(</span><span class="n">outputFile</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;RUNTIME [ %llu, %llu ] </span><span class="se">\&quot;</span><span class="s">cudaLaunchKernel</span><span class="se">\&quot;</span><span class="s">, correlationId %u</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<a id="__codelineno-1-50" name="__codelineno-1-50" href="#__codelineno-1-50"></a><span class="w">                            </span><span class="n">api</span><span class="o">-&gt;</span><span class="n">start</span><span class="p">,</span><span class="w">          </span><span class="c1">// API entry timestamp</span>
<a id="__codelineno-1-51" name="__codelineno-1-51" href="#__codelineno-1-51"></a><span class="w">                            </span><span class="n">api</span><span class="o">-&gt;</span><span class="n">end</span><span class="p">,</span><span class="w">            </span><span class="c1">// API exit timestamp</span>
<a id="__codelineno-1-52" name="__codelineno-1-52" href="#__codelineno-1-52"></a><span class="w">                            </span><span class="n">api</span><span class="o">-&gt;</span><span class="n">correlationId</span><span class="p">);</span><span class="w"> </span><span class="c1">// The same ID as the corresponding kernel.</span>
<a id="__codelineno-1-53" name="__codelineno-1-53" href="#__codelineno-1-53"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-1-54" name="__codelineno-1-54" href="#__codelineno-1-54"></a><span class="w">                </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-1-55" name="__codelineno-1-55" href="#__codelineno-1-55"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-1-56" name="__codelineno-1-56" href="#__codelineno-1-56"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-1-57" name="__codelineno-1-57" href="#__codelineno-1-57"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-1-58" name="__codelineno-1-58" href="#__codelineno-1-58"></a><span class="p">}</span>
</code></pre></div>
<p>As the target application runs, CUPTI works silently in the background, filling up memory buffers with detailed activity records. This process is highly efficient and asynchronous. When a buffer is full, CUPTI invokes our <code>BufferCompleted</code> callback, delivering a batch of events for us to process.</p>
<p>Inside this callback, we iterate through two important types of records:</p>
<ol>
<li>
<p><strong><code>CUPTI_ACTIVITY_KIND_RUNTIME</code></strong>: This tells us whenever a CUDA runtime function was called, such as <code>cudaLaunchKernel</code>. We record its timestamp and, most importantly, the <strong>correlation ID</strong> that the CUDA runtime assigned to this specific call.</p>
</li>
<li>
<p><strong><code>CUPTI_ACTIVITY_KIND_CONCURRENT_KERNEL</code></strong>: This record is generated after a GPU kernel finishes executing. It contains a wealth of information, including the kernel's name, its precise start and end timestamps (measured by the GPU's own hardware clock), and the exact same <strong>correlation ID</strong> that we saw in the runtime API record.</p>
</li>
</ol>
<p>This shared correlation ID is the entire key to our profiler. It's the "tag" that allows us to definitively prove that the <code>cudaLaunchKernel</code> call with ID <code>12345</code> on the CPU is directly responsible for the <code>matmul_kernel</code> execution with ID <code>12345</code> on the GPU. Our injection library simply writes these events out to a text file, creating a log of all GPU activity, ready for the final merging step.</p>
<ol>
<li>
<p><strong>The Detective Work: Merging Traces in <code>merge_gpu_cpu_trace.py</code></strong></p>
<p>After the profiling run is complete, we have two crucial pieces of evidence: a file of CPU stack traces from our eBPF profiler and a file of GPU activity from our CUPTI library. The final step is to bring them together to tell a single, coherent story. This is the job of our Python-based detective, the <code>TraceMerger</code>.</p>
<p>The <code>TraceMerger</code> class is where the core correlation logic lives. It starts by parsing both trace files. The CPU trace is in our "extended folded format," with each line containing a nanosecond timestamp and a full call stack. The GPU trace contains all the <code>RUNTIME</code> and <code>CONCURRENT_KERNEL</code> events we logged.</p>
<p>The script then performs a two-step matching process for every CPU stack trace it captured:</p>
<ol>
<li>
<p><strong>Timestamp Matching</strong>: For a given CPU stack captured at a specific nanosecond, it searches for a <code>cudaLaunchKernel</code> <em>runtime event</em> from the GPU trace that occurred at roughly the same time. We have to allow for a small time window (e.g., 10 milliseconds) because the CPU and GPU clocks aren't perfectly synchronized, and there can be small delays.</p>
</li>
<li>
<p><strong>Correlation ID Confirmation</strong>: Once it finds a potential match based on time, it takes the correlation ID from that <code>cudaLaunchKernel</code> runtime event. It then searches for a <em>kernel execution event</em> that has the exact same correlation ID.</p>
</li>
</ol>
<p>If both steps succeed, we have a confirmed match! We now know that the CPU stack trace is directly responsible for that specific GPU kernel execution. The script then appends the GPU kernel's name to the CPU call stack, creating a unified view.</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">class</span> <span class="nc">TraceMerger</span><span class="p">:</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    <span class="k">def</span> <span class="nf">find_matching_kernel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cpu_stack</span><span class="p">:</span> <span class="n">CPUStack</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">GPUKernelEvent</span><span class="p">]:</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="sd">        Correlates a CPU stack with a GPU kernel using our two-step matching process.</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>        <span class="c1"># Step 1: Find the cudaLaunchKernel runtime call that happened</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>        <span class="c1"># closest in time to our CPU stack capture.</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>        <span class="n">best_launch</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>        <span class="n">min_time_diff</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">timestamp_tolerance_ns</span>  <span class="c1"># 10ms search window</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>        <span class="k">for</span> <span class="n">launch</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cuda_launches</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>            <span class="n">time_diff</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">cpu_stack</span><span class="o">.</span><span class="n">timestamp_ns</span> <span class="o">-</span> <span class="n">launch</span><span class="o">.</span><span class="n">start_ns</span><span class="p">)</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>            <span class="k">if</span> <span class="n">time_diff</span> <span class="o">&lt;</span> <span class="n">min_time_diff</span><span class="p">:</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>                <span class="n">min_time_diff</span> <span class="o">=</span> <span class="n">time_diff</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>                <span class="n">best_launch</span> <span class="o">=</span> <span class="n">launch</span>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">best_launch</span><span class="p">:</span>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a>            <span class="k">return</span> <span class="kc">None</span> <span class="c1"># No launch found within our time window.</span>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a>
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>        <span class="c1"># Step 2: Use the correlation ID from the launch event to find the</span>
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a>        <span class="c1"># exact GPU kernel that was executed.</span>
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a>        <span class="k">for</span> <span class="n">kernel</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">gpu_kernels</span><span class="p">:</span>
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a>            <span class="k">if</span> <span class="n">kernel</span><span class="o">.</span><span class="n">correlation_id</span> <span class="o">==</span> <span class="n">best_launch</span><span class="o">.</span><span class="n">correlation_id</span><span class="p">:</span>
<a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a>                <span class="k">return</span> <span class="n">kernel</span>  <span class="c1"># Success! We found the matching kernel.</span>
<a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a>
<a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a>        <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a>
<a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a>    <span class="k">def</span> <span class="nf">merge_traces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a><span class="sd">        Builds the final merged stacks, ready for the flamegraph script.</span>
<a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a><span class="sd">        Example: cpu_func1;cpu_func2;cudaLaunchKernel;[GPU_Kernel]kernel_name</span>
<a id="__codelineno-2-32" name="__codelineno-2-32" href="#__codelineno-2-32"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-2-33" name="__codelineno-2-33" href="#__codelineno-2-33"></a>        <span class="k">for</span> <span class="n">cpu_stack</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cpu_stacks</span><span class="p">:</span>
<a id="__codelineno-2-34" name="__codelineno-2-34" href="#__codelineno-2-34"></a>            <span class="n">merged_stack</span> <span class="o">=</span> <span class="n">cpu_stack</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-2-35" name="__codelineno-2-35" href="#__codelineno-2-35"></a>
<a id="__codelineno-2-36" name="__codelineno-2-36" href="#__codelineno-2-36"></a>            <span class="n">gpu_kernel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_matching_kernel</span><span class="p">(</span><span class="n">cpu_stack</span><span class="p">)</span>
<a id="__codelineno-2-37" name="__codelineno-2-37" href="#__codelineno-2-37"></a>            <span class="k">if</span> <span class="n">gpu_kernel</span><span class="p">:</span>
<a id="__codelineno-2-38" name="__codelineno-2-38" href="#__codelineno-2-38"></a>                <span class="c1"># If a match is found, append the GPU kernel&#39;s name.</span>
<a id="__codelineno-2-39" name="__codelineno-2-39" href="#__codelineno-2-39"></a>                <span class="n">merged_stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[GPU_Kernel]</span><span class="si">{</span><span class="n">gpu_kernel</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-2-40" name="__codelineno-2-40" href="#__codelineno-2-40"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-2-41" name="__codelineno-2-41" href="#__codelineno-2-41"></a>                <span class="c1"># If no match is found, we still note that a launch was attempted.</span>
<a id="__codelineno-2-42" name="__codelineno-2-42" href="#__codelineno-2-42"></a>                <span class="n">merged_stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;[GPU_Launch_Pending]&quot;</span><span class="p">)</span>
<a id="__codelineno-2-43" name="__codelineno-2-43" href="#__codelineno-2-43"></a>
<a id="__codelineno-2-44" name="__codelineno-2-44" href="#__codelineno-2-44"></a>            <span class="c1"># Convert the final, merged stack into a string.</span>
<a id="__codelineno-2-45" name="__codelineno-2-45" href="#__codelineno-2-45"></a>            <span class="n">stack_str</span> <span class="o">=</span> <span class="s1">&#39;;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">merged_stack</span><span class="p">)</span>
<a id="__codelineno-2-46" name="__codelineno-2-46" href="#__codelineno-2-46"></a>
<a id="__codelineno-2-47" name="__codelineno-2-47" href="#__codelineno-2-47"></a>            <span class="c1"># This is the crucial step: weight the stack by the GPU kernel&#39;s</span>
<a id="__codelineno-2-48" name="__codelineno-2-48" href="#__codelineno-2-48"></a>            <span class="c1"># actual execution time in microseconds, not just a simple count.</span>
<a id="__codelineno-2-49" name="__codelineno-2-49" href="#__codelineno-2-49"></a>            <span class="n">kernel_duration_us</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">gpu_kernel</span><span class="o">.</span><span class="n">end_us</span> <span class="o">-</span> <span class="n">gpu_kernel</span><span class="o">.</span><span class="n">start_us</span><span class="p">)</span> <span class="k">if</span> <span class="n">gpu_kernel</span> <span class="k">else</span> <span class="mi">0</span>
<a id="__codelineno-2-50" name="__codelineno-2-50" href="#__codelineno-2-50"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">merged_stacks</span><span class="p">[</span><span class="n">stack_str</span><span class="p">]</span> <span class="o">+=</span> <span class="n">kernel_duration_us</span>
</code></pre></div>
<h3 id="the-importance-of-duration-weighting">The Importance of Duration Weighting</h3>
<p>One of the most critical details in this entire process is how we generate the final data for the flamegraph. A standard flamegraph just counts how many times each unique stack trace appears. This is fine for CPU-only profiling, where every sample represents a roughly equal slice of time. But for our use case, it would be misleading.</p>
<p>A <code>cudaLaunchKernel</code> call might launch a kernel that runs for 2 microseconds or one that runs for 200 milliseconds. If we just counted them as "1" each, the flamegraph would incorrectly show them as having equal importance.</p>
<p>To solve this, we use <strong>duration weighting</strong>. Instead of adding <code>1</code> to the count for a matched stack, we add the GPU kernel's <em>actual execution duration in microseconds</em>.</p>
<ul>
<li><code>cpu_stack;...;[GPU_Kernel]fast_kernel 2</code> (ran for 2 µs)</li>
<li><code>cpu_stack;...;[GPU_Kernel]slow_kernel 200000</code> (ran for 200,000 µs)</li>
</ul>
<p>This ensures the width of the bars in the final flamegraph is proportional to the <em>actual time spent on the GPU</em>. A kernel that runs 1000x longer will appear 1000x wider, immediately and accurately drawing your eye to the real performance hotspots. Without this, you'd be flying blind, unable to distinguish truly expensive operations from trivial ones.</p>
<h3 id="putting-it-all-together-orchestration-in-gpuperfpy">Putting It All Together: Orchestration in <code>gpuperf.py</code></h3>
<p>The final piece of the puzzle is the <code>gpuperf.py</code> script, which acts as the conductor for our profiling orchestra. It's responsible for starting the tracers, running the target application, stopping the tracers, and kicking off the final merge and analysis. The order of operations is critical for everything to work correctly.</p>
<p>Let's look at the core logic in the <code>run_with_trace</code> function:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">def</span> <span class="nf">run_with_trace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">cpu_profile</span><span class="p">,</span> <span class="n">chrome_trace</span><span class="p">,</span> <span class="n">merged_trace</span><span class="p">):</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>    <span class="c1"># 1. Set up the environment for CUPTI injection. This tells the CUDA</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>    <span class="c1">#    runtime where to find our custom tracer library.</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>    <span class="n">env</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>    <span class="n">env</span><span class="p">[</span><span class="s1">&#39;CUDA_INJECTION64_PATH&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">injection_lib</span><span class="p">)</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>    <span class="n">env</span><span class="p">[</span><span class="s1">&#39;CUPTI_TRACE_OUTPUT_FILE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trace_file</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>    <span class="c1"># 2. Start the eBPF CPU profiler *before* the target application.</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>    <span class="c1">#    This is crucial because the uprobe must be attached and ready</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>    <span class="c1">#    before the application makes its first CUDA call.</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">start_cpu_profiler</span><span class="p">(</span><span class="n">cpu_output_file</span><span class="o">=</span><span class="n">cpu_profile</span><span class="p">)</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>  <span class="c1"># Give it a moment to ensure the uprobe is active.</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>    <span class="c1"># 3. Launch the target application. The CUDA runtime will automatically</span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>    <span class="c1">#    load our injection library because of the environment variable we set.</span>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>    <span class="n">target_proc</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="n">env</span><span class="p">)</span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>    <span class="n">target_proc</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>    <span class="c1"># 4. Once the application finishes, stop the CPU profiler and</span>
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>    <span class="c1">#    begin the final trace merging process.</span>
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">stop_cpu_profiler</span><span class="p">()</span>
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">generate_merged_trace</span><span class="p">(</span><span class="n">cpu_trace</span><span class="o">=</span><span class="n">cpu_profile</span><span class="p">,</span> <span class="n">gpu_trace</span><span class="o">=</span><span class="n">chrome_trace</span><span class="p">,</span>
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>                                <span class="n">output_file</span><span class="o">=</span><span class="n">merged_trace</span><span class="p">)</span>
</code></pre></div>
<p>Here’s a step-by-step breakdown of the timeline:</p>
<ol>
<li>
<p><strong>Environment Setup</strong>: The script first sets the <code>CUDA_INJECTION64_PATH</code> environment variable. This is an official feature of the CUDA driver that tells it to load a specific shared library into any application that initializes the CUDA runtime. This is the hook that lets our CUPTI tracer get inside the target process.</p>
</li>
<li>
<p><strong>Start CPU Profiler First</strong>: The script calls <code>start_cpu_profiler()</code> <em>before</em> launching the user's command. This is the most critical step in the orchestration. The eBPF profiler needs to attach its uprobe to the <code>cudaLaunchKernel</code> function in the <code>libcudart.so</code> library. If the application starts first, it might load the CUDA library and make calls before our probe is in place, causing us to miss events. By starting the profiler first (and adding a small sleep), we ensure our CPU spy is in position and ready to record from the very beginning.</p>
</li>
<li>
<p><strong>Launch the Target</strong>: With the environment set and the eBPF probe active, the script launches the target application using <code>subprocess.Popen</code>. As soon as the application makes its first CUDA call, the CUDA runtime initializes and, thanks to our environment variable, loads our <code>libcupti_trace_injection.so</code> library. At this point, both our CPU and GPU tracers are active and recording data.</p>
</li>
<li>
<p><strong>Stop and Merge</strong>: The script waits for the target application to complete. Once it's finished, it cleanly shuts down the eBPF profiler and then calls <code>generate_merged_trace()</code>. This function is the trigger for the <code>TraceMerger</code> detective, which begins the work of parsing, correlating, and weighting the data to produce the final, unified folded stack file.</p>
</li>
</ol>
<h2 id="putting-it-to-the-test-example-applications">Putting It to the Test: Example Applications</h2>
<p>Theory is great, but the best way to learn is by doing. To help you see the profiler in action and experiment with it yourself, this tutorial includes two different CUDA applications that you can build and profile.</p>
<h3 id="the-main-event-a-real-llm-inference-engine-qwen3cu">The Main Event: A Real LLM Inference Engine (<code>qwen3.cu</code>)</h3>
<p>This is the recommended example and the one we used to generate the flamegraph at the beginning of this tutorial. <code>qwen3.cu</code> is a complete, self-contained CUDA implementation of the Qwen3 0.6B transformer model. It's not a simplified mock-up; it's a real Large Language Model that performs inference on the GPU.</p>
<p>Profiling this application gives you a realistic view of the workloads you'll encounter in modern AI. You'll see the interplay between the core components of a transformer architecture, including:
- Tokenization
- Multi-head attention layers
- Feedforward networks
- RMS normalization</p>
<p>This example is perfect for understanding how high-level concepts in a neural network translate into specific GPU kernels and where the true performance bottlenecks lie in a real-world AI application.</p>
<h3 id="a-simpler-starting-point-the-mock-transformer-simulator-mock-testllm-inferencecu">A Simpler Starting Point: The Mock Transformer Simulator (<code>mock-test/llm-inference.cu</code>)</h3>
<p>If you want a simpler, lightweight test case, the <code>mock-test/llm-inference.cu</code> application is a great alternative. It simulates the computational patterns of a transformer model (like matrix multiplications and other typical operations) but does so without the overhead of loading a large model's weights. This makes it quick to compile and run, providing a straightforward way to verify that all the components of your profiling stack are working correctly before moving on to more complex workloads.</p>
<h2 id="lets-get-building-compilation-and-execution">Let's Get Building: Compilation and Execution</h2>
<p>Now that you understand the architecture, it's time to get your hands dirty. This section will walk you through compiling all the necessary components of our profiling stack: the CUPTI injection library, the Rust eBPF profiler, and the example applications. We'll then run the full profiler to generate our first unified flamegraph.</p>
<h3 id="step-1-build-the-cupti-injection-library">Step 1: Build the CUPTI Injection Library</h3>
<p>First, we need to compile our GPU informant—the C++ shared library that uses CUPTI to trace GPU activities. This library will be injected into our target application to report back on what the GPU is doing.</p>
<p>Navigate to the <code>cupti_trace</code> directory and use the provided <code>Makefile</code> to build the library:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nb">cd</span><span class="w"> </span>cupti_trace
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>make
</code></pre></div>
<p>This command compiles <code>cupti_trace_injection.cpp</code> into a shared library file named <code>libcupti_trace_injection.so</code>. The <code>Makefile</code> is designed to automatically locate your CUDA installation (it checks common paths like <code>/usr/local/cuda-12.x</code> and <code>/usr/local/cuda-13.x</code>) and links against the necessary CUPTI and CUDA runtime libraries.</p>
<p>Once the compilation is finished, verify that the shared library has been created:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>ls<span class="w"> </span>-lh<span class="w"> </span>libcupti_trace_injection.so
</code></pre></div>
<p>You should see a new file, typically around 100-120KB in size. If the compilation fails, the most common reasons are:
- The CUDA Toolkit is not installed on your system.
- The <code>nvcc</code> compiler is not in your system's <code>PATH</code>.
- The <code>CUPTI</code> development files are missing (they are usually included with the CUDA Toolkit under <code>extras/CUPTI/</code>).</p>
<h3 id="step-2-build-the-rust-ebpf-profiler">Step 2: Build the Rust eBPF Profiler</h3>
<p>Next, we'll build the CPU spy—our high-performance eBPF profiler written in Rust. This tool is responsible for capturing the CPU-side stack traces whenever <code>cudaLaunchKernel</code> is called.</p>
<p>Navigate to the <code>profiler</code> directory and use <code>cargo</code> to compile the application. We'll build it in <code>--release</code> mode to ensure it runs with maximum performance and minimal overhead.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nb">cd</span><span class="w"> </span>profiler
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>cargo<span class="w"> </span>build<span class="w"> </span>--release
</code></pre></div>
<p>This command does two important things:
1.  It compiles the Rust user-space application, which manages the eBPF probes and processes the data.
2.  It also compiles the C-based eBPF program (<code>profile.bpf.c</code>) into BPF bytecode and embeds it directly into the final Rust executable. This creates a self-contained binary that's easy to distribute and run.</p>
<p>After the build completes, verify that the profiler executable is ready:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>ls<span class="w"> </span>-lh<span class="w"> </span>target/release/profile
</code></pre></div>
<p>You can also run it with the <code>--help</code> flag to see the available command-line options:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>./target/release/profile<span class="w"> </span>--help
</code></pre></div>
<p>You should see a list of options, including <code>--uprobe</code> (which we'll use to specify the <code>cudaLaunchKernel</code> function) and <code>-E</code> (which enables the "extended folded output" format with nanosecond timestamps). The final binary will be around 2-3MB, as it includes not only our code but also the powerful <code>blazesym</code> library for fast, offline stack symbolization.</p>
<h3 id="step-3-build-the-mock-llm-application">Step 3: Build the Mock LLM Application</h3>
<p>With our profiling tools compiled, we now need a target application to profile. We'll start with the simpler of the two examples: the mock LLM simulator. This lightweight CUDA application is perfect for a quick test to ensure all parts of our profiler are working together correctly.</p>
<p>Navigate to the <code>mock-test</code> directory and compile the application using its <code>Makefile</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nb">cd</span><span class="w"> </span>mock-test
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>make
</code></pre></div>
<p>This command uses <code>nvcc</code>, the NVIDIA CUDA compiler, to build the <code>llm-inference.cu</code> source file into an executable named <code>llm-inference</code>. The <code>Makefile</code> includes a few useful flags:
- <code>-std=c++17</code>: Enables modern C++ features.
- <code>--no-device-link</code>: Creates a single, self-contained executable, which simplifies compilation.
- <code>-Wno-deprecated-gpu-targets</code>: Suppresses warnings you might see if you're using a newer CUDA toolkit with a slightly older GPU.</p>
<p>Verify that the compilation was successful by listing the file:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>ls<span class="w"> </span>-lh<span class="w"> </span>llm-inference
</code></pre></div>
<p>The resulting binary should be small, around 200KB. You can run it directly to see it in action. By default, it runs a continuous simulation for 10 seconds, so you can stop it early with <code>Ctrl+C</code> after a few moments.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>./llm-inference
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="c1"># The application will start printing output...</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="c1"># Press Ctrl+C after a few seconds to stop it.</span>
</code></pre></div>
<h3 id="step-4-build-the-real-llm-inference-application">Step 4: Build the Real LLM Inference Application</h3>
<p>Now for the main event: compiling the <code>qwen3.cu</code> application. This is a real, self-contained LLM inference engine that runs the Qwen3 0.6B model. Profiling this will give you a fantastic, real-world view of a modern AI workload.</p>
<p>First, navigate to the <code>qwen3.cu</code> directory.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nb">cd</span><span class="w"> </span>qwen3.cu
</code></pre></div>
<p>Before you can compile the code, you need to download the model weights. The <code>Makefile</code> provides a convenient target for this.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># This will download the 3GB FP32 model file</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>make<span class="w"> </span>download-model
</code></pre></div>
<p>Next, compile the application. There's a critical detail here: for our eBPF uprobe to work, the application must dynamically link against the CUDA runtime library (<code>libcudart.so</code>). If it's statically linked, the <code>cudaLaunchKernel</code> symbol won't be available in a shared library for our probe to find. The <code>Makefile</code> has a specific target, <code>runcu</code>, that handles this for you.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1"># Compile the application with dynamic linking</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>make<span class="w"> </span>runcu
</code></pre></div>
<p>To be absolutely sure it's linked correctly, you can use the <code>ldd</code> command to inspect the executable's dependencies.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>ldd<span class="w"> </span>runcu<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>cudart
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="c1"># The output should look something like this:</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="c1"># libcudart.so.12 =&gt; /usr/local/cuda-12.9/lib64/libcudart.so.12</span>
</code></pre></div>
<p>If you see a line showing that <code>runcu</code> is linked to <code>libcudart.so</code>, you're all set! All the components are now built and ready for action.</p>
<h3 id="time-to-shine-running-the-profiler">Time to Shine: Running the Profiler</h3>
<p>With all the components built, you're now ready to run the full profiling stack and see it in action! The <code>gpuperf.py</code> script is your central command hub. It seamlessly orchestrates the eBPF profiler, the CUPTI injection, and the final trace merging, giving you a complete, end-to-end view of your application's performance.</p>
<p>Let's profile the real LLM inference workload using the Qwen3 model. The following command tells <code>gpuperf.py</code> to run the <code>runcu</code> executable and trace its execution:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1"># Profile real LLM inference (Qwen3 model)</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>sudo<span class="w"> </span>timeout<span class="w"> </span>-s<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">10</span><span class="w"> </span>python3<span class="w"> </span>gpuperf.py<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">    </span>-c<span class="w"> </span>qwen3_gpu.json<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">    </span>-p<span class="w"> </span>qwen3_cpu.txt<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">    </span>-m<span class="w"> </span>qwen3_merged.folded<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="w">    </span>bash<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;cd qwen3.cu &amp;&amp; ./runcu Qwen3-0.6B-FP32.gguf -q &quot;Explain eBPF&quot; -r 1&#39;</span>
</code></pre></div>
<p>Let's break down this command to understand what each part does:
- <code>sudo</code>: Required because the eBPF profiler needs elevated privileges to attach probes to the kernel and other processes.
- <code>timeout -s 2 10</code>: A useful utility that runs the command for a maximum of 10 seconds. It sends an interrupt signal (<code>-s 2</code>, which is <code>SIGINT</code> or <code>Ctrl+C</code>) to gracefully stop the process. This is perfect for capturing a short, representative sample of a long-running application.
- <code>python3 gpuperf.py</code>: Our main orchestration script.
- <code>-c qwen3_gpu.json</code>: Specifies the output file for the GPU trace data, which will be saved in the Chrome Trace JSON format.
- <code>-p qwen3_cpu.txt</code>: Specifies the output file for the CPU stack traces, saved in our extended folded format.
- <code>-m qwen3_merged.folded</code>: The grand prize! This is the output file for the final, merged, and duration-weighted folded stacks.
- <code>bash -c '...'</code>: The command to be profiled. We use <code>bash -c</code> to ensure that we first change into the <code>qwen3.cu</code> directory before executing the <code>runcu</code> application.</p>
<p>As the script runs, you'll see a detailed log of its progress:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>CUPTI trace output will be written to: /home/yunwei37/workspace/bpf-developer-tutorial/src/xpu/flamegraph/gpu_results.txt
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>Starting CPU profiler with cudaLaunchKernel hook
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>  CUDA library: /usr/local/cuda-12.9/lib64/libcudart.so.12
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>  Output: /home/yunwei37/workspace/bpf-developer-tutorial/src/xpu/flamegraph/qwen3_cpu.txt
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>Running command with GPU profiling: bash -c cd qwen3.cu &amp;&amp; ./runcu Qwen3-0.6B-FP32.gguf -q &quot;What is eBPF?&quot; -r 1
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>Trace output: /home/yunwei37/workspace/bpf-developer-tutorial/src/xpu/flamegraph/gpu_results.txt
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>Started target process with PID: 3861826
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>A: E BPF stands for &quot;Extended Bounded Performance&quot; and is a system designed to allow users to create custom user-space programs...
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>tok/s: 54.489164
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>Stopping CPU profiler...
<a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a>CPU profile saved to: /home/yunwei37/workspace/bpf-developer-tutorial/src/xpu/flamegraph/qwen3_cpu.txt
<a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a>
<a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a>Converting trace to Chrome format: qwen3_gpu.json
<a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a>Parsed 185867 events
<a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a>
<a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a>Chrome trace file written to: qwen3_gpu.json
<a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a>
<a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a>Generating merged CPU+GPU trace: qwen3_merged.folded
<a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a>Parsing CPU uprobe trace (extended folded format): qwen3_cpu.txt
<a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a>Parsed 92732 CPU stack traces from cudaLaunchKernel hooks
<a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a>Found 1 unique threads
<a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a>Parsing GPU CUPTI trace: qwen3_gpu.json
<a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a>Parsed 92732 GPU kernel events
<a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a>Parsed 92732 cudaLaunchKernel runtime events
<a id="__codelineno-17-26" name="__codelineno-17-26" href="#__codelineno-17-26"></a>Correlating CPU stacks with GPU kernels...
<a id="__codelineno-17-27" name="__codelineno-17-27" href="#__codelineno-17-27"></a>  Thread (3861826, 3861826): Using sequential matching (92732 events)
<a id="__codelineno-17-28" name="__codelineno-17-28" href="#__codelineno-17-28"></a>Matched 92732 CPU stacks with GPU kernels
<a id="__codelineno-17-29" name="__codelineno-17-29" href="#__codelineno-17-29"></a>Total unique stacks: 7
<a id="__codelineno-17-30" name="__codelineno-17-30" href="#__codelineno-17-30"></a>Wrote 7 unique stacks (3265164 total samples)
<a id="__codelineno-17-31" name="__codelineno-17-31" href="#__codelineno-17-31"></a>✓ Merged trace generated: qwen3_merged.folded
</code></pre></div>
<p>The output is a goldmine of information. Let's analyze the key statistics:
- <strong>92,732 CPU stack traces captured</strong>: This means that during the 10-second run, the <code>cudaLaunchKernel</code> function was called over 92,000 times. Our eBPF profiler caught every single one.
- <strong>185,867 total GPU events</strong>: The CUPTI tracer recorded a huge amount of activity, including kernel launches, memory copies, and other runtime events.
- <strong>100% Correlation Rate</strong>: The line <code>Matched 92732 CPU stacks with GPU kernels</code> is the most important one. It confirms that our correlation logic worked perfectly, successfully linking every single CPU-side launch event to its corresponding GPU-side kernel execution.
- <strong>7 unique stacks</strong>: Although there were over 92,000 calls, they all originated from just 7 unique code paths in the application.
- <strong>3,265,164 total samples</strong>: This is the sum of all GPU kernel durations in microseconds. It tells us that the total time spent executing kernels on the GPU during this run was approximately 3.27 seconds.</p>
<p>This successful run leaves us with three valuable trace files (<code>qwen3_cpu.txt</code>, <code>qwen3_gpu.json</code>, and <code>qwen3_merged.folded</code>), which we'll use in the next steps to visualize and inspect the performance data.</p>
<h3 id="step-5-generate-the-flamegraph">Step 5: Generate the Flamegraph</h3>
<p>After a successful profiling run, you're left with the <code>qwen3_merged.folded</code> file. This is the culmination of our data collection and correlation efforts, containing all the information needed to build our unified CPU+GPU flamegraph. To turn this data into a beautiful and interactive visualization, we use the classic <code>flamegraph.pl</code> script, a powerful Perl program created by Brendan Gregg, the performance engineering expert who pioneered the use of flamegraphs.</p>
<p>This repository includes a convenient wrapper script, <code>combined_flamegraph.pl</code>, which is based on the original and tailored for our needs. Let's use it to generate our SVG file:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>./combined_flamegraph.pl<span class="w"> </span>qwen3_merged.folded<span class="w"> </span>&gt;<span class="w"> </span>qwen3_flamegraph.svg
</code></pre></div>
<p>This command reads the duration-weighted folded stacks from <code>qwen3_merged.folded</code> and outputs a scalable vector graphics (SVG) file named <code>qwen3_flamegraph.svg</code>.</p>
<p>Now, open the newly created SVG file in any modern web browser to explore it:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>firefox<span class="w"> </span>qwen3_flamegraph.svg
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="c1"># or</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>google-chrome<span class="w"> </span>qwen3_flamegraph.svg
</code></pre></div>
<h4 id="navigating-your-interactive-flamegraph">Navigating Your Interactive Flamegraph</h4>
<p>Welcome to your unified performance profile! The flamegraph you see is a powerful tool for understanding your application's behavior. Here’s how to interpret it:
- <strong>The Y-Axis is the Call Stack</strong>: Each vertical level represents a function in the call stack. The function at the bottom (<code>main</code>) calls the one above it, and so on, all the way up to the final functions that launch the GPU kernels.
- <strong>The X-Axis is Time</strong>: The width of each rectangle (or "frame") is directly proportional to the total time it spent on the GPU. Because we used duration weighting, a kernel that ran for 200ms will have a frame that is 100 times wider than a kernel that ran for 2ms. This immediately draws your attention to the most expensive parts of your code.
- <strong>Interactivity is Key</strong>:
    - <strong>Hover</strong>: Move your mouse over any frame to see its full function name, the total time it consumed (in microseconds), and what percentage of the total execution time it represents.
    - <strong>Click to Zoom</strong>: Click on any frame to "zoom in" on it. The flamegraph will redraw to show only the call stacks that pass through that function, making it easy to analyze specific parts of your application.
- <strong>Color is Random</strong>: The colors are chosen randomly to help distinguish adjacent frames. They don't have any specific meaning.</p>
<h4 id="analyzing-the-qwen3-llm-flamegraph">Analyzing the Qwen3 LLM Flamegraph</h4>
<p>When you explore the <code>qwen3_flamegraph.svg</code>, you're looking at the real computational fingerprint of a transformer model. You'll be able to trace the execution from the <code>main</code> function, through the <code>chat()</code> and <code>forward()</code> loops, all the way to the specific GPU kernels.</p>
<p>You will likely notice a few dominant kernels that make up the vast majority of the graph's width:
- <strong><code>_Z13matmul_kernel...</code> (Matrix Multiplication)</strong>: This will be the widest block by a large margin, consuming around 3.1 seconds (95%) of the GPU time. This is the heart of a transformer's feed-forward networks and is the primary computational bottleneck.
- <strong><code>_Z27multi_head_attention_kernel...</code> (Multi-Head Attention)</strong>: This kernel, responsible for the attention mechanism, will be the next largest, but significantly smaller than matrix multiplication (around 105ms, or 3.2%).
- <strong><code>_Z14rmsnorm_kernel...</code> (RMS Normalization)</strong>: These kernels are even smaller, showing that normalization is a relatively cheap operation in this model.</p>
<p>This visualization provides an immediate, intuitive understanding of where your program's time is going. It proves that for this LLM, optimizing the matrix multiplication operations would yield the biggest performance gains.</p>
<h3 id="going-deeper-inspecting-the-raw-trace-files">Going Deeper: Inspecting the Raw Trace Files</h3>
<p>While the flamegraph gives you a fantastic high-level overview, sometimes you need to get your hands on the raw data to answer specific questions. Our profiler generates three distinct trace files, each offering a different lens through which to view your application's performance. Let's explore what each one contains and how you can use it.</p>
<h4 id="1-the-cpu-side-story-qwen3_cputxt">1. The CPU-Side Story: <code>qwen3_cpu.txt</code></h4>
<p>This file contains the raw output from our Rust eBPF profiler. It's a log of every single time the <code>cudaLaunchKernel</code> function was called, captured in our special "extended folded format."</p>
<p>You can peek at the first few lines using <code>head</code>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>head<span class="w"> </span>-5<span class="w"> </span>qwen3_cpu.txt
</code></pre></div></p>
<p>The output will look something like this:
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>1761680628903821454 runcu 3861826 3861826 1 _start;__libc_start_main;0x70c45902a1ca;main;chat(...);forward(Transformer*, int, int);__device_stub__Z12accum_kernelPfS_i(...);cudaLaunchKernel
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>1761680628903827398 runcu 3861826 3861826 1 _start;__libc_start_main;0x70c45902a1ca;main;chat(...);forward(Transformer*, int, int);__device_stub__Z13matmul_kernelPfS_S_ii(...);cudaLaunchKernel
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>1761680628903830126 runcu 3861826 3861826 1 _start;__libc_start_main;0x70c45902a1ca;main;chat(...);forward(Transformer*, int, int);__device_stub__Z13matmul_kernelPfS_S_ii(...);cudaLaunchKernel
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>...
</code></pre></div></p>
<p>Each line is a complete snapshot of a single event, broken down as follows:
- <code>1761680628903821454</code>: The nanosecond timestamp when the event occurred.
- <code>runcu</code>: The command name of the process.
- <code>3861826</code>: The process ID (PID).
- <code>3861826</code>: The thread ID (TID).
- <code>1</code>: The CPU core where the event was captured.
- <code>_start;__libc_start_main;...;cudaLaunchKernel</code>: The full, semicolon-delimited user-space call stack.</p>
<p>This file is a treasure trove of information on its own. You can see the exact sequence of kernel launches and the CPU code paths that led to them. You could even generate a CPU-only flamegraph from this file to see which parts of your host code are responsible for calling the CUDA API most frequently.</p>
<h4 id="2-the-gpu-side-story-qwen3_gpujson">2. The GPU-Side Story: <code>qwen3_gpu.json</code></h4>
<p>This file contains the detailed GPU activity trace from our CUPTI injection library, conveniently formatted as a JSON file that can be loaded into the Chrome Trace Viewer. This gives you a powerful timeline visualization of everything that happened on the GPU.</p>
<p>Take a look at the beginning of the file:
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>head<span class="w"> </span>-20<span class="w"> </span>qwen3_gpu.json
</code></pre></div></p>
<p>You'll see a standard JSON structure. To make sense of it, open Google Chrome and navigate to <code>chrome://tracing</code>. Click the "Load" button and select your <code>qwen3_gpu.json</code> file.</p>
<p>The timeline view you'll see is invaluable for understanding the dynamics of GPU execution. You can:
- <strong>See Parallelism</strong>: Visually identify when multiple kernels are running concurrently on different CUDA streams.
- <strong>Spot Bubbles</strong>: Find gaps in the timeline where the GPU was idle, which might indicate CPU-side bottlenecks or inefficient data loading.
- <strong>Analyze Memory Transfers</strong>: See how long <code>cudaMemcpy</code> operations are taking and whether they are blocking kernel execution.</p>
<h4 id="3-the-unified-story-qwen3_mergedfolded">3. The Unified Story: <code>qwen3_merged.folded</code></h4>
<p>This is the final, merged output that we used to generate our flamegraph. It represents the successful correlation of our CPU and GPU traces.</p>
<p>Let's examine its contents:
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>cat<span class="w"> </span>qwen3_merged.folded
</code></pre></div></p>
<p>The output shows the unique, combined call stacks and their total weighted durations:
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>0x70c45902a1ca;main;chat(Transformer*, Tokenizer*, Sampler*, char*, char*, int, int, int, TokenBuffer*, int);forward(Transformer*, int, int);__device_stub__Z12accum_kernelPfS_i(float*, float*, int);cudaLaunchKernel;[GPU_Kernel]_Z12accum_kernelPfS_i 29
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>0x70c45902a1ca;main;chat(...);forward(Transformer*, int, int);__device_stub__Z13matmul_kernelPfS_S_ii(float*, float*, float*, int, int);cudaLaunchKernel;[GPU_Kernel]_Z13matmul_kernelPfS_S_ii 3099632
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>0x70c45902a1ca;main;chat(...);forward(Transformer*, int, int);__device_stub__Z14rmsnorm_kernelPfS_S_ii(float*, float*, float*, int, int);cudaLaunchKernel;[GPU_Kernel]_Z14rmsnorm_kernelPfS_S_ii 22119
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>0x70c45902a1ca;main;chat(...);forward(Transformer*, int, int);multi_head_attention(...);__device_stub__Z27multi_head_attention_kerneliiPfS_S_S_S_iiii(...);cudaLaunchKernel;[GPU_Kernel]_Z27multi_head_attention_kerneliiPfS_S_S_S_iiii 105359
</code></pre></div></p>
<p>This format is simple but powerful. Each line consists of two parts:
1.  A semicolon-delimited string representing a full call stack, starting from the CPU, going through <code>cudaLaunchKernel</code>, and ending with the name of the GPU kernel that was executed (e.g., <code>[GPU_Kernel]_Z13matmul_kernel...</code>).
2.  A number at the end representing the total time in <strong>microseconds</strong> that this specific call stack spent executing on the GPU.</p>
<p>For example, the line ending in <code>3099632</code> tells us that the call stack leading to the <code>matmul_kernel</code> was responsible for a total of 3,099,632 microseconds (or 3.1 seconds) of GPU compute time. This duration weighting is the key to creating a flamegraph that accurately reflects where time is truly being spent, making it an indispensable tool for performance analysis.</p>
<h2 id="the-road-ahead-limitations-and-future-directions">The Road Ahead: Limitations and Future Directions</h2>
<p>You've successfully built a powerful profiler that provides incredible insight into CPU-GPU interactions. However, like any tool, it has its limitations. Understanding these boundaries is key to using the profiler effectively and seeing the exciting possibilities for future development.</p>
<h3 id="what-our-profiler-doesnt-tell-you-inside-the-kernel">What Our Profiler Doesn't Tell You: Inside the Kernel</h3>
<p>Our profiler excels at showing you <em>which</em> CPU code launches <em>which</em> GPU kernel and for <em>how long</em> that kernel runs. If your flamegraph shows a kernel consuming 50ms, you've found a hotspot. But it doesn't tell you <em>why</em> it's slow. Is the kernel memory-bound, waiting on data from VRAM? Is it compute-bound, with all its math units saturated? Or is it suffering from thread divergence, where threads within the same warp take different code paths?</p>
<p>To answer these questions, you need to go a level deeper with <strong>kernel-internal profiling</strong>. This is the domain of specialized tools like <strong>NVIDIA Nsight Compute</strong> or <strong>Nsight Systems</strong>. These profilers can instrument the GPU at the hardware level, collecting metrics on warp occupancy, instruction throughput, and memory latency. The typical workflow is to use our flamegraph profiler first to identify the most time-consuming kernels, and then use Nsight Compute to perform a deep-dive analysis on those specific kernels to optimize their internal performance.</p>
<p>An alternative approach to achieve fine-grained GPU observability is to run eBPF programs directly on the GPU. This is the direction explored by the eGPU paper and <a href="https://github.com/eunomia-bpf/bpftime/tree/master/example/gpu">bpftime GPU examples</a>. <code>bpftime</code> converts eBPF bytecode to PTX instructions that GPUs can execute, then dynamically patches CUDA binaries at runtime to inject these eBPF programs at kernel entry/exit points. This enables observing GPU-specific information like block indices, thread indices, global timers, and warp-level metrics. Developers can instrument critical paths inside GPU kernels to measure execution behavior and diagnose complex performance issues that kernel-side tracing cannot reach. This GPU-internal observability complements kernel tracepoints - together they provide end-to-end visibility from API calls through kernel drivers to GPU execution.</p>
<h3 id="the-next-frontier-building-a-unified-system-wide-profiler">The Next Frontier: Building a Unified, System-Wide Profiler</h3>
<p>This tutorial provides a powerful foundation, but the journey doesn't end here. The next evolution is to build a production-grade, continuous profiler that offers a truly holistic view of system performance. This involves moving beyond just correlating CPU calls and GPU kernels to understanding the "why" behind performance bottlenecks and scaling to complex, real-world workloads.</p>
<p>The future of this work is being developed at <strong><a href="https://github.com/eunomia-bpf/xpu-perf">eunomia-bpf/xpu-perf</a></strong>, an open-source project aimed at creating an online, continuous profiler for both CPU and GPU. Here are the key directions being explored:</p>
<ul>
<li>
<p><strong>From "What" to "Why": Deep Kernel and Instruction-Level Analysis</strong>
    Our current profiler tells you <em>what</em> kernel ran and for <em>how long</em>. The next step is to understand <em>why</em> it was slow. This requires diving into the GPU hardware itself.</p>
<ul>
<li><strong>Instruction-Level Stalls</strong>: Using advanced features in vendor libraries like <strong>NVIDIA CUPTI</strong> or technologies like the Intel GPU Observability Architecture (OA) found in tools like <strong>iaprof</strong>, we can capture the specific reasons for stalls within the GPU's execution units. This means identifying bottlenecks caused by memory latency (waiting for data), ALU contention, or other hardware limitations and attributing them back to the exact shader instructions responsible.</li>
<li><strong>Hardware Performance Counters</strong>: By sampling hardware performance counters on the GPU, we can collect detailed metrics on cache hit rates, memory bandwidth, and warp occupancy, providing a rich, data-driven picture of in-kernel performance.</li>
</ul>
</li>
<li>
<p><strong>A Holistic System View: Combining On-CPU, Off-CPU, and GPU Data</strong>
    A process has many states, and a complete profiler must capture all of them.</p>
<ul>
<li><strong>On-CPU vs. Off-CPU</strong>: Our current eBPF profiler focuses on "on-CPU" activity. A complete solution would also trace "off-CPU" time, showing you not just what the CPU was doing, but why it was <em>waiting</em>. Was it blocked on I/O, a lock, or, most relevantly, waiting for a GPU kernel to complete?</li>
<li><strong>Unified Flamegraphs</strong>: By merging on-CPU, off-CPU, and GPU traces, we can create a single, system-wide flamegraph. This would visualize the entire lifecycle of a request, showing time spent in active CPU computation, time spent waiting for the GPU, and time spent executing on the GPU, all in one seamless view.</li>
</ul>
</li>
<li>
<p><strong>Scaling to Production Workloads: Multi-GPU and Multi-Stream Support</strong>
    Modern AI and HPC workloads are rarely confined to a single GPU or a single stream. A production-ready profiler must handle this complexity.</p>
<ul>
<li><strong>Multi-GPU Awareness</strong>: The profiler should be able to distinguish between different GPUs, tagging events with a device ID (e.g., <code>[GPU0_Kernel]name</code> vs. <code>[GPU1_Kernel]name</code>). This enables the analysis of load balancing and helps identify issues specific to one device in a multi-GPU setup.</li>
<li><strong>Multi-Stream Correlation</strong>: For applications using multiple CUDA streams for concurrent execution, the correlation logic must be enhanced. This involves tracking stream IDs for both CPU launch calls and GPU kernel executions to correctly attribute work in complex, out-of-order scenarios.</li>
</ul>
</li>
</ul>
<p>By integrating these advanced capabilities, we can build a next-generation observability tool that provides unparalleled, end-to-end insight into the performance of accelerated applications. The work on <code>xpu-perf</code> aims to make this vision a reality.</p>
<h2 id="tying-it-all-together-your-journey-in-review">Tying It All Together: Your Journey in Review</h2>
<p>Congratulations! You've successfully navigated the complex world of CPU-GPU performance analysis. The fundamental challenge in profiling modern accelerated applications is bridging two distinct domains: the CPU, which submits work, and the GPU, which executes it. In this tutorial, you built a complete, end-to-end profiling solution that does exactly that.</p>
<p>Let's recap the powerful stack you've assembled:
-   An <strong>eBPF Profiler</strong>, built in Rust, that uses uprobes to capture CPU stack traces with nanosecond precision at the exact moment <code>cudaLaunchKernel</code> is called.
-   A <strong>CUPTI Injection Library</strong>, which seamlessly loads into any CUDA application to record detailed GPU activity, complete with the crucial correlation IDs that link GPU work back to its CPU origin.
-   A <strong>Python-based Trace Merger</strong>, which acts as a detective, intelligently stitching the CPU and GPU traces together using timestamps and correlation IDs. It produces a duration-weighted folded stack file, ensuring the final visualization accurately reflects real-world execution time.</p>
<p>The result is a unified flamegraph that provides an intuitive, end-to-end view of your application's execution, from the highest-level CPU functions down to the specific kernels running on the GPU.</p>
<p>The beauty of this approach is its power and flexibility. It works without recompiling your target application, supports any framework built on CUDA (including PyTorch, TensorFlow, and JAX), and has a low enough overhead to be used in production environments. The tools are modular, allowing you to use the eBPF profiler for CPU-only analysis, the CUPTI tracer for a GPU timeline, or combine them for unparalleled insight.</p>
<p>You are now equipped with the techniques and tools to diagnose performance bottlenecks in complex machine learning workloads, scientific simulations, or any GPU-accelerated application where understanding the intricate dance between the CPU and GPU is the key to unlocking performance.</p>
<blockquote>
<p>We hope this tutorial has been an empowering step in your developer journey. To continue learning and exploring the world of eBPF, check out our full collection of tutorials at <a href="https://github.com/eunomia-bpf/bpf-developer-tutorial">https://github.com/eunomia-bpf/bpf-developer-tutorial</a> or visit our website at <a href="https://eunomia.dev/tutorials/">https://eunomia.dev/tutorials/</a>. Happy profiling!</p>
</blockquote>
<h2 id="references">References</h2>
<h3 id="related-gpu-profiling-tools">Related GPU Profiling Tools</h3>
<ol>
<li>
<p>AI Flame Graphs / iaprof (Intel) provides hardware-sampling driven GPU and software stack flamegraphs (EU stalls, kernels, and CPU stacks), open-sourced in 2025. This is deeper than our tutorial: it samples inside GPU kernels and attributes stall reasons back to code context. Use this when you need hardware stall analysis and an end-to-end view. <a href="https://www.brendangregg.com/blog/2024-10-29/ai-flame-graphs.html">Brendan Gregg</a> | <a href="https://github.com/intel/iaprof">GitHub</a></p>
</li>
<li>
<p>Nsight Systems and Nsight Compute (NVIDIA) are official tools. Systems gives CPU to GPU timelines and API/kernels; Compute gives in-kernel metrics and roofline-style analyses. Ideal for deep tuning, not always for low-overhead continuous profiling. <a href="https://docs.nvidia.com/nsight-systems/UserGuide/index.html">NVIDIA Docs</a></p>
</li>
<li>
<p>PyTorch Profiler / Kineto (NVIDIA/Meta, also AMD/Intel backends) records CPU ops and GPU kernels via CUPTI and shows them in TensorBoard/Chrome Trace. It supports CPU to accelerator flow links ("ac2g"). Great when you're already in PyTorch. <a href="https://pytorch.org/blog/automated-trace-collection/">PyTorch Blog</a> | <a href="https://pytorch.org/docs/stable/profiler.html">PyTorch Docs</a></p>
</li>
<li>
<p>HPCToolkit (Rice) provides low-overhead call-path profiling that can attribute GPU kernel time to CPU calling context, and on NVIDIA can use PC sampling to examine instruction-level behavior. Powerful for production runs and cross-vendor GPUs. <a href="https://www.alcf.anl.gov/sites/default/files/2024-11/HPCToolkit-ALCF-2024-10.pdf">Argonne Leadership Computing Facility</a></p>
</li>
<li>
<p>AMD ROCm (rocprofiler-SDK) offers HIP/HSA tracing with Correlation_Id to connect async calls and kernels. If you want an AMD version of this tutorial, integrate with rocprofiler events. <a href="https://rocm.docs.amd.com/projects/rocprofiler-sdk/en/docs-6.3.1/how-to/using-rocprofv3.html">ROCm Documentation</a></p>
</li>
<li>
<p>Level Zero tracer (Intel) allows you to intercept Level Zero API calls (loader tracing) and build a similar correlator with L0 callbacks for Intel GPUs. <a href="https://www.intel.com/content/www/us/en/docs/oneapi/optimization-guide-gpu/2023-1/level-zero-tracer.html">Intel Docs</a></p>
</li>
<li>
<p>Perfetto / Chrome Trace viewer is your choice for viewing <code>.json</code> timelines. Perfetto is the modern web UI that reads Chromium JSON traces (what your CUPTI converter emits). <a href="https://perfetto.dev/">Perfetto</a></p>
</li>
</ol>
<h3 id="technical-documentation">Technical Documentation</h3>
<ol>
<li>NVIDIA CUPTI Documentation: <a href="https://docs.nvidia.com/cupti/Cupti/index.html">https://docs.nvidia.com/cupti/Cupti/index.html</a></li>
<li>CUPTI Activity API: <a href="https://docs.nvidia.com/cupti/Cupti/r_main.html#r_activity_api">https://docs.nvidia.com/cupti/Cupti/r_main.html#r_activity_api</a></li>
<li>CUPTI ActivityKernel8 Structure: <a href="https://docs.nvidia.com/cupti/api/structCUpti__ActivityKernel8.html">https://docs.nvidia.com/cupti/api/structCUpti__ActivityKernel8.html</a></li>
<li>CUDA Profiling Guide: <a href="https://docs.nvidia.com/cuda/profiler-users-guide/">https://docs.nvidia.com/cuda/profiler-users-guide/</a></li>
<li>Nsight Systems User Guide: <a href="https://docs.nvidia.com/drive/drive-os-5.2.6.0L/nsight-systems/pdf/UserGuide.pdf">https://docs.nvidia.com/drive/drive-os-5.2.6.0L/nsight-systems/pdf/UserGuide.pdf</a></li>
<li>eBPF Stack Trace Helpers: <a href="https://github.com/iovisor/bcc/blob/master/docs/reference_guide.md#4-bpf_get_stackid">https://github.com/iovisor/bcc/blob/master/docs/reference_guide.md#4-bpf_get_stackid</a></li>
<li>Chrome Trace Format: <a href="https://docs.google.com/document/d/1CvAClvFfyA5R-PhYUmn5OOQtYMH4h6I0nSsKchNAySU">https://docs.google.com/document/d/1CvAClvFfyA5R-PhYUmn5OOQtYMH4h6I0nSsKchNAySU</a></li>
<li>Flamegraph Visualization: <a href="https://www.brendangregg.com/flamegraphs.html">https://www.brendangregg.com/flamegraphs.html</a></li>
</ol>
<h3 id="advanced-topics">Advanced Topics</h3>
<ol>
<li>bpftime GPU eBPF: <a href="https://github.com/eunomia-bpf/bpftime/tree/master/example/gpu">https://github.com/eunomia-bpf/bpftime/tree/master/example/gpu</a></li>
<li>iaprof Intel GPU Profiling Analysis: <a href="https://eunomia.dev/blog/2025/10/11/understanding-iaprof-a-deep-dive-into-aigpu-flame-graph-profiling/">https://eunomia.dev/blog/2025/10/11/understanding-iaprof-a-deep-dive-into-aigpu-flame-graph-profiling/</a></li>
<li>Tutorial Repository: <a href="https://github.com/eunomia-bpf/bpf-developer-tutorial/tree/main/src/xpu/flamegraph">https://github.com/eunomia-bpf/bpf-developer-tutorial/tree/main/src/xpu/flamegraph</a></li>
</ol>
<p>Complete source code including the eBPF profiler, CUPTI injection library, trace merger, and test applications is available in the tutorial repository. Contributions and issue reports welcome!</p>
<p><a class="md-button" href="https://x.com/intent/tweet?text=eBPF%20by%20Example%3A%20Building%20a%20GPU%20Flamegraph%20Profiler%20with%20CUPTI%0A&amp;url=https://eunomia.dev/tutorials/xpu/flamegraph/">Share on <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.234 10.162 22.977 0h-2.072l-7.591 8.824L7.251 0H.258l9.168 13.343L.258 24H2.33l8.016-9.318L16.749 24h6.993zm-2.837 3.299-.929-1.329L3.076 1.56h3.182l5.965 8.532.929 1.329 7.754 11.09h-3.182z"/></svg></span></a>
<a class="md-button" href="https://www.facebook.com/sharer/sharer.php?u=https://eunomia.dev/tutorials/xpu/flamegraph/">Share on <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a9 9 0 0 1 1.141.195v3.325a9 9 0 0 0-.653-.036 27 27 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.7 1.7 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647"/></svg></span></a></p>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="October 28, 2025 20:28:47 UTC">October 28, 2025</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="October 28, 2025 02:46:58 UTC">October 28, 2025</span>
  </span>

    
    
      
  
  <span class="md-source-file__fact">
    <span class="md-icon" title="Contributors">
      
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4"/></svg>
      
    </span>
    <nav>
      
        <a href="mailto:yunwei356@gmail.com">yunwei37</a>
    </nav>
  </span>

    
    
  </aside>


  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              
              
                
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              
              
                
                
              
              Thanks for your feedback! Help us improve this page by using our <a href="https://github.com/orgs/eunomia-bpf/discussions" target="_blank" rel="noopener">Github discussion</a>.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


<script src="https://giscus.app/client.js"
        data-repo="eunomia-bpf/bpf-developer-tutorial"
        data-repo-id="R_kgDOIi0KhQ"
        data-category="General"
        data-category-id="DIC_kwDOIi0Khc4CYq-h"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>

                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../features/struct_ops/" class="md-footer__link md-footer__link--prev" aria-label="Previous: eBPF Tutorial: Extending Kernel Subsystems with BPF struct_ops">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                eBPF Tutorial: Extending Kernel Subsystems with BPF struct_ops
              </div>
            </div>
          </a>
        
        
          
          <a href="../gpu-kernel-driver/" class="md-footer__link md-footer__link--next" aria-label="Next: eBPF Tutorial by Example: Monitoring GPU Driver Activity with Kernel Tracepoints">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                eBPF Tutorial by Example: Monitoring GPU Driver Activity with Kernel Tracepoints
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright (c) 2025 eunomia-bpf org.
    </div>
  
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/eunomia-bpf" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:yunwei356@gmail.com" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M536.4-26.3c9.8-3.5 20.6-1 28 6.3s9.8 18.2 6.3 28l-178 496.9c-5 13.9-18.1 23.1-32.8 23.1-14.2 0-27-8.6-32.3-21.7l-64.2-158c-4.5-11-2.5-23.6 5.2-32.6l94.5-112.4c5.1-6.1 4.7-15-.9-20.6s-14.6-6-20.6-.9l-112.4 94.3c-9.1 7.6-21.6 9.6-32.6 5.2L38.1 216.8c-13.1-5.3-21.7-18.1-21.7-32.3 0-14.7 9.2-27.8 23.1-32.8z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["search.suggest", "search.highlight", "search.share", "navigation.footer", "navigation.instant", "navigation.instant.progress", "navigation.tabs", "navigation.expand", "navigation.path", "navigation.top", "content.tabs.link", "content.action.edit"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
<script src="https://cdn.usefathom.com/script.js" data-site="ZLDAHRNN" defer></script>

      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    

  </body>
</html>